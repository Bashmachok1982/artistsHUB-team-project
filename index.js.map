{"version":3,"file":"index.js","sources":["../src/js/mobile-menu.js","../src/js/artistModal/modalElements.js","../src/js/artistModal/modalHandlers.js","../src/js/artistModal/artistApi.js","../src/js/artistModal/time-format.js","../src/js/artistModal/albumGrouping.js","../src/img/icons.svg","../src/js/artistModal/render.js","../src/js/artistModal/loader.js","../src/js/artist-details-modal.js","../src/js/artists.js","../src/js/feedback-api.js","../src/js/feedback-markup.js","../src/js/feedback-swiper.js","../src/js/feedback-raty.js","../src/js/feedback.js","../src/js/feedback-modal.js","../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const menuBtn = document.querySelector('.mob-menu-btn');\n  const closeBtn = document.querySelector('.menu-close-btn');\n  const mobileMenu = document.querySelector('#mobileMenu');\n  const body = document.body;\n\n  menuBtn?.addEventListener('click', () => {\n    mobileMenu.classList.add('is-open');\n    body.classList.add('menu-open'); // для блокировки скролла\n  });\n\n  // Закрытие меню\n  closeBtn?.addEventListener('click', closeMenu);\n\n  // Закрытие по клику вне меню (на фон)\n  mobileMenu?.addEventListener('click', e => {\n    if (e.target === mobileMenu) {\n      closeMenu();\n    }\n  });\n\n  // Закрытие по Escape\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n      closeMenu();\n    }\n  });\n\n  // Закрытие при клике на ссылку (особенно удобно для одностраничника)\n  document.querySelectorAll('.mobile-link').forEach(link => {\n    link.addEventListener('click', closeMenu);\n  });\n\n  function closeMenu() {\n    mobileMenu.classList.remove('is-open');\n    body.classList.remove('menu-open');\n  }\n\n  // Опционально: фиксированный хедер + смена стиля при скролле\n  let lastScroll = 0;\n  window.addEventListener('scroll', () => {\n    const currentScroll = window.scrollY;\n\n    if (currentScroll > 50) {\n      document.querySelector('.header').classList.add('scrolled');\n    } else {\n      document.querySelector('.header').classList.remove('scrolled');\n    }\n\n    lastScroll = currentScroll;\n  });\n});\n","export const domRefs = {\n  modal: document.querySelector(\".modal\"),\n  artistDataLoader: document.getElementById(\"artistDataLoader\"),\n  artistDataSpinner: document.querySelector(\n    \"#artistDataLoader .artist-loader__spinner\",\n  ),\n\n  artist: {\n    name: document.querySelector(\".modal__artist-name\"),\n    thumb: document.querySelector(\".modal__artist-thumb\"),\n    years: document.querySelector(\".modal__artist-years\"),\n    gender: document.querySelector(\".modal__artist-gender\"),\n    members: document.querySelector(\".modal__artist-members\"),\n    country: document.querySelector(\".modal__artist-country\"),\n    bio: document.querySelector(\".modal__artist-bio\"),\n    genres: document.querySelector(\".modal__artist-genres\"),\n  },\n  albums: {\n    container: document.querySelector(\".modal__albums-container\"),\n  },\n  artistCardSection: document.querySelector(\".modal__artist\"),\n};\n","import { domRefs } from \"./modalElements.js\";\n\nfunction closeArtistModal() {\n  domRefs.modal.classList.add(\"modal--hidden\");\n  document.body.classList.remove(\"no-scroll\");\n  document.body.style.overflow = \"\";\n  document.documentElement.style.overflow = \"\";\n  document.removeEventListener(\"keydown\", handleModalEscapeKey);\n}\n\nfunction initModalCloseHandlers() {\n  const closeButton = document.querySelector(\".modal__close-btn\");\n  const overlay = document.querySelector(\".modal\");\n\n  if (closeButton) {\n    closeButton.addEventListener(\"click\", closeArtistModal);\n  }\n  if (overlay) {\n    overlay.addEventListener(\"click\", (event) => {\n      if (event.target === overlay) {\n        closeArtistModal();\n      }\n    });\n  }\n}\n\nfunction handleModalEscapeKey(e) {\n  if (\n    e.key === \"Escape\" &&\n    !domRefs.modal.classList.contains(\"modal--hidden\")\n  ) {\n    closeArtistModal();\n  }\n}\n\nexport { closeArtistModal, initModalCloseHandlers, handleModalEscapeKey };\n","import axios from 'axios';\n\nexport async function getArtistDetails(artistId) {\n  if (!artistId) {\n    throw new Error('Artist ID is required');\n  }\n  const [artistRes, allArtistsRes] = await Promise.all([\n    axios.get(`https://sound-wave.b.goit.study/api/artists/${artistId}`),\n    axios.get(`https://sound-wave.b.goit.study/api/artists`),\n  ]);\n\n  const artistData = artistRes.data;\n\n  const allArtists = allArtistsRes.data.artists || [];\n\n  if (!artistData?.strArtist) throw new Error('No artist data');\n\n  const fullArtistData = allArtists.find(artist => artist._id === artistId);\n\n  if (!fullArtistData) {\n    console.warn('Artist not found ❗️:', artistId);\n  } else if (fullArtistData.genres) {\n    artistData.genres = fullArtistData.genres;\n  }\n\n  return artistData;\n}\n","/**\n * format \"mm:ss\"\n * @param {number} ms \n * @returns {string}\n */\n\n\nexport function formatDuration(ms) {\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n}\n","export function organizeTracksByAlbum(tracks, artistName) {\n  return tracks.reduce((map, track) => {\n    if (track.strArtist !== artistName) return map;\n    const album = track.strAlbum || \"Unknown Album\";\n    if (!map[album]) map[album] = [];\n    map[album].push(track);\n    return map;\n  }, {});\n}\n","export default \"__VITE_ASSET__CYO2dSbi__\"","import { domRefs } from './modalElements.js';\nimport { formatDuration } from './time-format.js';\nimport { organizeTracksByAlbum } from './albumGrouping.js';\n\n// іконки\nimport iconsUrl from '../../img/icons.svg';\n\nexport function renderArtistAlbums(tracksList, artistName) {\n  const albumsContainer = domRefs.albums.container;\n  if (!albumsContainer) return;\n\n  const albumsMap = organizeTracksByAlbum(tracksList, artistName); // Обʼєкт: { albumName: [tracks] }\n  albumsContainer.innerHTML = '';\n\n  const ul = document.createElement('ul');\n  ul.classList.add('modal__albums-list');\n\n  for (const [albumName, tracks] of Object.entries(albumsMap)) {\n    const albumItem = document.createElement('li');\n    albumItem.className = 'modal__album-item';\n\n    const title = document.createElement('h4');\n    title.className = 'modal__album-title';\n    title.textContent = albumName;\n    albumItem.appendChild(title);\n\n    const wrapper = document.createElement('div');\n    wrapper.className = 'modal__tracks-wrapper';\n\n    // Заголовки колонок\n    const headerList = document.createElement('ul');\n    headerList.className = 'modal__tracks-header';\n    headerList.innerHTML = `\n      <li class=\"modal__track-name-col\">track</li>\n      <li class=\"modal__track-time-col\">time</li>\n      <li class=\"modal__track-link-col\">link</li>\n    `;\n    wrapper.appendChild(headerList);\n\n    // Список треків\n    tracks.forEach(track => {\n      const trackList = document.createElement('ul');\n      trackList.className = 'modal__track-item';\n\n      const name = document.createElement('li');\n      name.className = 'modal__track-name';\n      name.textContent = track.strTrack || '';\n\n      const time = document.createElement('li');\n      time.className = 'modal__track-time';\n      time.textContent = track.intDuration\n        ? formatDuration(track.intDuration)\n        : '';\n\n      const link = document.createElement('li');\n      link.className = 'modal__track-link';\n\n      if (track.movie) {\n        const a = document.createElement('a');\n        a.href = track.movie;\n        a.target = '_blank';\n        a.rel = 'noopener noreferrer';\n        a.innerHTML = `\n        <svg width=\"16\" height=\"16\">\n          <use href=\"${iconsUrl}#icon-youtube\"></use>\n        </svg>`;\n        link.appendChild(a);\n      }\n\n      trackList.append(name, time, link);\n      wrapper.appendChild(trackList);\n    });\n\n    albumItem.appendChild(wrapper);\n    ul.appendChild(albumItem);\n  }\n\n  albumsContainer.appendChild(ul);\n}\n\nexport function renderArtistDetails(data) {\n  const { name, thumb, years, gender, members, country, bio } = domRefs.artist;\n\n  name.textContent = data.strArtist ?? 'No name';\n  thumb.src =\n    data.strArtistThumb || 'https://via.placeholder.com/200x200?text=No+Image';\n  thumb.alt = `Artist photo ${data.strArtist ?? ''}`;\n  bio.textContent = data.strBiographyEN ?? 'No description';\n\n  years.textContent = data.intFormedYear\n    ? `${data.intFormedYear} - ${data.intDiedYear || 'present'}`\n    : 'No data';\n  gender.textContent = data.strGender || 'No data';\n  members.textContent = data.intMembers || 'No data';\n  country.textContent = data.strCountry || 'No data';\n}\n\nexport function renderArtistGenres(container, genres) {\n  if (!(container instanceof HTMLElement)) {\n    console.error('container not DOM-element:', container);\n    return;\n  }\n\n  container.innerHTML = '';\n\n  if (genres && genres.length > 0) {\n    genres.forEach(genreKey => {\n      const genreEl = document.createElement('span');\n      genreEl.classList.add('modal__genres-item');\n      genreEl.textContent = genreKey;\n      container.appendChild(genreEl);\n    });\n  } else {\n    const noGenresEl = document.createElement('span');\n    noGenresEl.classList.add('modal__genres-item');\n    noGenresEl.textContent = 'Genres not available';\n    container.appendChild(noGenresEl);\n  }\n}\n","import { domRefs } from \"./modalElements.js\";\n\nfunction showArtistLoader() {\n  if (!domRefs.artistDataLoader || !domRefs.artistCardSection) {\n    console.error(\"DOM references for loader are not found!\");\n    return;\n  }\n  document\n    .querySelector(\"#globalLoader\")\n    .classList.remove(\"global-loader--hidden\");\n  domRefs.artistDataLoader.classList.remove(\"artist-loader--hidden\");\n  domRefs.artistDataLoader.classList.add(\"artist-loader--visible\");\n  domRefs.artistCardSection.classList.add(\"hidden\");\n}\n\nfunction hideArtistLoader() {\n  if (!domRefs.artistDataLoader || !domRefs.artistCardSection) {\n    console.error(\"DOM references for loader are not found!\");\n    return;\n  }\n  document\n    .querySelector(\"#globalLoader\")\n    .classList.add(\"global-loader--hidden\");\n  domRefs.artistDataLoader.classList.remove(\"artist-loader--visible\");\n  domRefs.artistDataLoader.classList.add(\"artist-loader--hidden\");\n  domRefs.artistCardSection.classList.remove(\"hidden\");\n}\n\nexport default {\n  showArtistLoader,\n  hideArtistLoader,\n};\n","import { domRefs } from './artistModal/modalElements.js';\nimport {\n  closeArtistModal,\n  initModalCloseHandlers,\n  handleModalEscapeKey,\n} from './artistModal/modalHandlers.js';\nimport { getArtistDetails } from './artistModal/artistApi.js';\nimport {\n  renderArtistDetails,\n  renderArtistAlbums,\n  renderArtistGenres,\n} from './artistModal/render.js';\nimport loader from './artistModal/loader.js';\n\nlet loaderTimerId = null;\n// затримкa\nconst LOADER_DELAY_MS = 300;\n\nexport async function openArtistModal(artistId) {\n  try {\n    loader.showArtistLoader();\n\n    const artistData = await getArtistDetails(artistId);\n    const genres = artistData.genres || [];\n\n    resetModalContent();\n    renderArtistDetails(artistData);\n    renderArtistAlbums(artistData.tracksList, artistData.strArtist);\n    renderArtistGenres(domRefs.artist.genres, genres);\n\n    loader.hideArtistLoader();\n\n    domRefs.modal.classList.remove('modal--hidden');\n    document.body.style.overflow = 'hidden';\n    document.documentElement.style.overflow = 'hidden';\n\n    document.addEventListener('keydown', handleModalEscapeKey);\n  } catch (error) {\n    console.error('Error to load artist data:', error.message, error);\n    loader.hideArtistLoader();\n    alert('Artist data not found');\n    closeArtistModal();\n  }\n}\n\n// зачистка\nfunction resetModalContent() {\n  if (domRefs.albums.container) domRefs.albums.container.innerHTML = '';\n  if (domRefs.artist.genres) domRefs.artist.genres.innerHTML = '';\n}\ninitModalCloseHandlers();\n","import axios from 'axios';\nimport { openArtistModal } from './artist-details-modal';\nimport iconsUrl from '../img/icons.svg';\n\nconst API_BASE = 'https://sound-wave.b.goit.study/api';\n\n// ===== DOM =====\nconst artistsList = document.querySelector('.artists__list');\nconst loadMoreBtn = document.querySelector('.artists__load-more-btn');\nconst loader = document.querySelector('.loader');\nconst emptyMsg = document.querySelector('[data-empty]');\n\nconst genresBtn = document.querySelector('[data-genres-btn]');\nconst genresMenu = document.querySelector('[data-genres-menu]');\nconst sortBtn = document.querySelector('[data-sort-btn]');\nconst sortMenu = document.querySelector('[data-sort-menu]');\nconst searchForm = document.querySelector('[data-search-form]');\nconst searchInput = document.querySelector('[data-search-input]');\nconst resetBtn = document.querySelector('[data-reset-btn]');\n\n// ===== STATE =====\nconst state = {\n  page: 1,\n  limit: 8,\n  genre: '',\n  sort: '', // 'asc' | 'desc' | ''\n  search: '',\n  // якщо треба стабільно щоб \"працювало навіть коли API не підтримує\" —\n  // під час фільтрів будемо тягнути більший список і фільтрувати локально\n  clientPool: [],\n  clientMode: false,\n  clientPoolLimit: 120, // не дуже велике, але достатньо, щоб фільтри працювали\n};\n\n// ===== UI helpers =====\nfunction toggleLoader(show) {\n  if (!loader) return;\n  loader.classList.toggle('visually-hidden', !show);\n}\n\nfunction showEmpty(show) {\n  if (!emptyMsg) return;\n  emptyMsg.classList.toggle('visually-hidden', !show);\n}\n\nfunction closeDropdowns() {\n  genresMenu?.classList.remove('is-open');\n  sortMenu?.classList.remove('is-open');\n}\n\nfunction toggleDropdown(menu) {\n  const open = menu.classList.contains('is-open');\n  closeDropdowns();\n  if (!open) menu.classList.add('is-open');\n}\n\ndocument.addEventListener('click', e => {\n  const inside =\n    genresBtn?.contains(e.target) ||\n    genresMenu?.contains(e.target) ||\n    sortBtn?.contains(e.target) ||\n    sortMenu?.contains(e.target);\n\n  if (!inside) closeDropdowns();\n});\n\n// ===== Text helpers (твій код) =====\nfunction truncateText(text, maxLength) {\n  if (typeof text !== 'string') return '';\n\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 768) maxLength = 60;\n  else if (screenWidth < 1440) maxLength = 160;\n  else maxLength = 144;\n\n  if (text.length > maxLength) return text.slice(0, maxLength) + '...';\n  return text;\n}\n\nfunction sanitizeText(text) {\n  if (typeof text !== 'string') return '';\n  return text.replace(/[,/]/g, ' ');\n}\n\n// ===== Markup =====\nfunction generateArtistsMarkup(arr) {\n  return (\n    arr\n      .map(\n        ({ _id, genres, strArtist, strArtistThumb, strBiographyEN }) => `\n      <li class=\"artists__card\">\n        <img class=\"artists__card-image\" src=\"${strArtistThumb}\" alt=\"${strArtist}\"/>\n\n        <ul class=\"artists__card-genres\">\n          ${(genres || [])\n            .map(\n              genre =>\n                `<li class=\"artists__card-genre\">${sanitizeText(genre)}</li>`\n            )\n            .join('')}\n        </ul>\n\n        <p class=\"artists__card-name\">${strArtist || ''}</p>\n        <p class=\"artists__card-description\">${truncateText(strBiographyEN, 144)}</p>\n\n        <button class=\"artists__card-btn open-artist-modal\" data-artist-id=\"${_id}\">\n          Learn More\n          <svg class=\"artists__card-btn-icon\" width=\"24\" height=\"24\">\n            <use href=\"${iconsUrl}#icon-caret-right\"></use>\n          </svg>\n        </button>\n      </li>\n    `\n      )\n      .join('') || ''\n  );\n}\n\n// ===== API calls =====\nasync function fetchArtistsFromApi({ page, limit, genre, sort, search }) {\n  const params = { page, limit };\n\n  // пробуємо передати — якщо бек підтримує, буде супер\n  if (genre) params.genre = genre;\n  if (search) params.search = search;\n  if (sort) params.sort = sort; // або asc/desc\n\n  const res = await axios.get(`${API_BASE}/artists`, { params });\n  return res.data?.artists || [];\n}\n\nasync function fetchGenresFromApi() {\n  const res = await axios.get(`${API_BASE}/genres`);\n  // може бути {genres:[...]} або просто [...]\n  const data = res.data;\n  const list = Array.isArray(data) ? data : data?.genres || [];\n  // приводимо до строк\n  return list\n    .map(g => (typeof g === 'string' ? g : g?.name || g?.genre || ''))\n    .filter(Boolean);\n}\n\n// ===== Client-side filters (fallback) =====\nfunction applyClientFilters(list) {\n  let out = [...list];\n\n  if (state.genre) {\n    out = out.filter(a => (a.genres || []).includes(state.genre));\n  }\n\n  if (state.search) {\n    const q = state.search.toLowerCase();\n    out = out.filter(a => (a.strArtist || '').toLowerCase().includes(q));\n  }\n\n  if (state.sort === 'asc') {\n    out.sort((a, b) => (a.strArtist || '').localeCompare(b.strArtist || ''));\n  }\n  if (state.sort === 'desc') {\n    out.sort((a, b) => (b.strArtist || '').localeCompare(a.strArtist || ''));\n  }\n\n  return out;\n}\n\nasync function buildClientPool() {\n  // тягнемо кілька сторінок, щоб фільтри реально працювали\n  const pagesToFetch = Math.ceil(state.clientPoolLimit / state.limit);\n  const all = [];\n\n  for (let p = 1; p <= pagesToFetch; p += 1) {\n    const chunk = await fetchArtistsFromApi({\n      page: p,\n      limit: state.limit,\n      genre: '', // навмисно без фільтрів — щоб мати базу\n      sort: '',\n      search: '',\n    });\n    all.push(...chunk);\n  }\n\n  state.clientPool = all;\n}\n\n// ===== Render =====\nasync function renderFirstPage() {\n  toggleLoader(true);\n  showEmpty(false);\n\n  try {\n    state.page = 1;\n\n    // якщо є хоч один фільтр — вмикаємо clientMode (гарантовано “щось” працює)\n    state.clientMode = Boolean(state.genre || state.sort || state.search);\n\n    let pageItems = [];\n\n    if (state.clientMode) {\n      if (!state.clientPool.length) await buildClientPool();\n\n      const filtered = applyClientFilters(state.clientPool);\n      const start = 0;\n      const end = state.limit;\n\n      pageItems = filtered.slice(start, end);\n\n      artistsList.innerHTML = generateArtistsMarkup(pageItems);\n      showEmpty(filtered.length === 0);\n\n      // load more показуємо тільки якщо є ще\n      loadMoreBtn.style.display = filtered.length > end ? 'flex' : 'none';\n    } else {\n      const items = await fetchArtistsFromApi({\n        page: state.page,\n        limit: state.limit,\n        genre: state.genre,\n        sort: state.sort,\n        search: state.search,\n      });\n\n      artistsList.innerHTML = generateArtistsMarkup(items);\n      showEmpty(items.length === 0);\n\n      loadMoreBtn.style.display = items.length ? 'flex' : 'none';\n    }\n  } catch (e) {\n    console.log(e);\n    showEmpty(true);\n    loadMoreBtn.style.display = 'none';\n  } finally {\n    toggleLoader(false);\n  }\n}\n\nasync function loadMore() {\n  toggleLoader(true);\n\n  try {\n    state.page += 1;\n\n    if (state.clientMode) {\n      const filtered = applyClientFilters(state.clientPool);\n      const start = (state.page - 1) * state.limit;\n      const end = state.page * state.limit;\n\n      const next = filtered.slice(start, end);\n      if (!next.length) {\n        loadMoreBtn.style.display = 'none';\n        return;\n      }\n\n      artistsList.insertAdjacentHTML('beforeend', generateArtistsMarkup(next));\n      loadMoreBtn.style.display = filtered.length > end ? 'flex' : 'none';\n    } else {\n      const items = await fetchArtistsFromApi({\n        page: state.page,\n        limit: state.limit,\n        genre: state.genre,\n        sort: state.sort,\n        search: state.search,\n      });\n\n      if (!items.length) {\n        loadMoreBtn.style.display = 'none';\n        return;\n      }\n\n      artistsList.insertAdjacentHTML('beforeend', generateArtistsMarkup(items));\n      loadMoreBtn.style.display = 'flex';\n    }\n  } catch (e) {\n    console.log(e);\n  } finally {\n    toggleLoader(false);\n  }\n}\n\n// ===== Modal click =====\nartistsList.addEventListener('click', e => {\n  const btn = e.target.closest('.open-artist-modal');\n  if (!btn) return;\n\n  const id = btn.dataset.artistId;\n  if (id) openArtistModal(id);\n});\n\n// ===== Controls events =====\ngenresBtn?.addEventListener('click', () => toggleDropdown(genresMenu));\nsortBtn?.addEventListener('click', () => toggleDropdown(sortMenu));\n\ngenresMenu?.addEventListener('click', e => {\n  const item = e.target.closest('[data-genre]');\n  if (!item) return;\n\n  state.genre = item.dataset.genre || '';\n  state.page = 1;\n\n  genresBtn.textContent = state.genre ? state.genre : 'Genres';\n\n  // щоб фільтри працювали стабільно\n  state.clientPool = [];\n  closeDropdowns();\n  renderFirstPage();\n});\n\nsortMenu?.addEventListener('click', e => {\n  const item = e.target.closest('[data-sort]');\n  if (!item) return;\n\n  state.sort = item.dataset.sort || '';\n  state.page = 1;\n\n  sortBtn.textContent =\n    state.sort === 'asc' ? 'A–Z' : state.sort === 'desc' ? 'Z–A' : 'Sort';\n\n  state.clientPool = [];\n  closeDropdowns();\n  renderFirstPage();\n});\n\nsearchForm?.addEventListener('submit', e => {\n  e.preventDefault();\n  state.search = (searchInput.value || '').trim();\n  state.page = 1;\n\n  state.clientPool = [];\n  renderFirstPage();\n});\n\nresetBtn?.addEventListener('click', () => {\n  state.genre = '';\n  state.sort = '';\n  state.search = '';\n  state.page = 1;\n  state.clientMode = false;\n  state.clientPool = [];\n\n  if (searchInput) searchInput.value = '';\n  if (genresBtn) genresBtn.textContent = 'Genres';\n  if (sortBtn) sortBtn.textContent = 'Sort';\n\n  closeDropdowns();\n  renderFirstPage();\n});\n\nloadMoreBtn?.addEventListener('click', loadMore);\n\n// ===== Init genres dropdown =====\nasync function initGenresDropdown() {\n  try {\n    const genres = await fetchGenresFromApi();\n\n    // якщо бек нічого не дав — все одно показуємо \"All genres\"\n    const items = [\n      `<li class=\"dropdown__item\" data-genre=\"\">All genres</li>`,\n      ...genres.map(\n        g => `<li class=\"dropdown__item\" data-genre=\"${g}\">${g}</li>`\n      ),\n    ];\n\n    genresMenu.innerHTML = items.join('');\n  } catch (e) {\n    console.log(e);\n    genresMenu.innerHTML = `<li class=\"dropdown__item\" data-genre=\"\">All genres</li>`;\n  }\n}\n\n// ===== START =====\ninitGenresDropdown();\nrenderFirstPage();\n","import axios from 'axios'\n\nexport const url = 'https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1';\n\nexport async function getData(url) {\n    try{\n const response = await axios.get(url);\n return response.data;\n    }catch(error){\nconsole.log(error)}}\n","export function createMarkup(markupList) {\n  const markup = markupList\n    .map(list => {\n      const rating = Math.round(list.rating);\n\n      return `\n      <li class=\"swiper-slide item-feedback\">\n        <div class=\"stars-rating-feedback\" data-rating=\"${rating}\"></div>\n        <p class=\"text-feedback\">${list.descr}</p>\n        <p class=\"text-name-feedback\">${list.name}</p>\n      </li>\n    `;\n    })\n    .join('');\n\n  const list = document.getElementById('card-list-feedback');\n  list.innerHTML = '';\n  list.insertAdjacentHTML('beforeend', markup);\n}\n","import Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nexport function initFeedbackSwiper() {\n  return new Swiper('.feedback-swiper', {\n    slidesPerView: 1,\n    spaceBetween: 24,\n    loop: false,\n\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n\n    pagination: {\n      el: '.feedback-pagination',\n      clickable: true,\n      renderBullet(index, className) {\n        if (index === 0) {\n          return `<span class=\"${className} pagination-start\"></span>`;\n        }\n        if (index === 9) {\n          return `<span class=\"${className} pagination-end\"></span>`;\n        }\n        return `<span class=\"${className} pagination-middle\"></span>`;\n      },\n    },\n  });\n}\n","import 'raty-js';\n\nexport function initFeedbackRaty() {\n  const stars = document.querySelectorAll('.stars-rating-feedback');\n\n  stars.forEach(el => {\n    const rating = Number(el.dataset.rating);\n\n    $(el).raty({\n      score: rating,\n      readOnly: true,\n      half: false,\n      starType: 'i',\n    });\n  });\n}\n","import { getData, url } from './feedback-api';\nimport { createMarkup } from './feedback-markup';\nimport { initFeedbackSwiper } from './feedback-swiper';\nimport { initFeedbackRaty } from './feedback-raty';\n\ngetData(url)\n  .then(response => {\n    const reviews = response.data;\n\n    if (!reviews || reviews.length === 0) return;\n\n    createMarkup(reviews);\n    initFeedbackRaty();\n    initFeedbackSwiper();\n  })\n  .catch(err => console.log(err));\n","// ================================================\n// 1. HELPERS\n// ================================================\n\nfunction lockScroll() {\n  document.body.classList.add('body-no-scroll');\n}\n\nfunction unlockScroll() {\n  document.body.classList.remove('body-no-scroll');\n}\n\nfunction showError(target, message) {\n  target.classList.add('feedback-error');\n\n  let error = target.parentElement.querySelector('.feedback-error-text');\n  if (!error) {\n    error = document.createElement('div');\n    error.className = 'feedback-error-text';\n    target.parentElement.appendChild(error);\n  }\n\n  error.textContent = message;\n}\n\nfunction clearError(target) {\n  target.classList.remove('feedback-error');\n  const error = target.parentElement.querySelector('.feedback-error-text');\n  if (error) error.remove();\n}\n\nfunction clearAllErrors() {\n  document.querySelectorAll('.feedback-error').forEach(el => {\n    clearError(el);\n  });\n\n  const serverError = document.querySelector('.server-error-message');\n  if (serverError) serverError.remove();\n}\n\n// ================================================\n// 2. MODAL\n// ================================================\n\nconst backdrop = document.querySelector('.js-feedback-backdrop');\n\nfunction openModal() {\n  backdrop.removeAttribute('hidden');\n  lockScroll();\n  clearAllErrors();\n}\n\nfunction closeModal() {\n  backdrop.setAttribute('hidden', '');\n  unlockScroll();\n}\n\nfunction initModal() {\n  const closeBtn = document.querySelector('.js-feedback-close');\n  if (!backdrop || !closeBtn) return;\n\n  closeBtn.addEventListener('click', closeModal);\n\n  backdrop.addEventListener('click', e => {\n    if (e.target === backdrop) closeModal();\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && !backdrop.hasAttribute('hidden')) {\n      closeModal();\n    }\n  });\n}\n\n// ================================================\n// 3. OPEN BY \"Leave feedback\" BUTTON\n// ================================================\n\nfunction initOpenButton() {\n  const openBtn = document.querySelector('.feedback-btn');\n  if (!openBtn) return;\n\n  openBtn.addEventListener('click', e => {\n    e.preventDefault(); // ❗ важно\n    openModal();\n  });\n}\n\n// ================================================\n// 4. RATING (A → stars)\n// ================================================\n\nfunction initRating() {\n  const rating = document.querySelector('.rating');\n  if (!rating) return;\n\n  const stars = rating.querySelectorAll('.rating-star');\n  const input = document.getElementById('rating-input');\n\n  stars.forEach(star => {\n    star.addEventListener('click', e => {\n      e.preventDefault(); // ❗ НЕ прыгаем вверх\n\n      const value = Number(star.dataset.value);\n      input.value = value;\n\n      stars.forEach(s => {\n        s.classList.toggle('active', Number(s.dataset.value) <= value);\n      });\n\n      clearError(rating);\n    });\n  });\n}\n\n// ================================================\n// 5. FORM\n// ================================================\n\nfunction initForm() {\n  const form = document.querySelector('.js-feedback-form');\n  if (!form) return;\n\n  const nameInput = form.querySelector('[name=\"name\"]');\n  const messageInput = form.querySelector('[name=\"message\"]');\n  const ratingInput = document.getElementById('rating-input');\n  const ratingBlock = form.querySelector('.rating');\n\n  const submitBtn = form.querySelector('.feedback-submit-btn');\n  const submitText = form.querySelector('.js-submit-text');\n  const submitLoader = form.querySelector('.js-submit-loader');\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n    clearAllErrors();\n\n    const name = nameInput.value.trim();\n    const descr = messageInput.value.trim();\n    const rating = Number(ratingInput.value);\n\n    let valid = true;\n\n    if (!name) {\n      showError(nameInput, 'Імʼя обовʼязкове');\n      valid = false;\n    }\n\n    if (!descr || descr.length < 10) {\n      showError(messageInput, 'Мінімум 10 символів');\n      valid = false;\n    }\n\n    if (rating < 1 || rating > 5) {\n      showError(ratingBlock, 'Оберіть рейтинг');\n      valid = false;\n    }\n\n    if (!valid) return;\n\n    submitBtn.disabled = true;\n    submitText.hidden = true;\n    submitLoader.hidden = false;\n\n    try {\n      const res = await fetch('https://sound-wave.b.goit.study/api/feedbacks', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n        },\n        body: JSON.stringify({ name, rating, descr }),\n      });\n\n      if (!res.ok) throw new Error('Server error');\n\n      form.reset();\n      ratingInput.value = '0';\n      document\n        .querySelectorAll('.rating-star')\n        .forEach(s => s.classList.remove('active'));\n\n      closeModal();\n      alert('Дякуємо за відгук!');\n    } catch {\n      const err = document.createElement('div');\n      err.className = 'server-error-message';\n      err.textContent = 'Помилка відправки';\n      err.style.color = '#dc2626';\n      err.style.textAlign = 'center';\n      err.style.marginTop = '16px';\n      form.appendChild(err);\n      setTimeout(() => err.remove(), 5000);\n    } finally {\n      submitBtn.disabled = false;\n      submitText.hidden = false;\n      submitLoader.hidden = true;\n    }\n  });\n}\n\n// ================================================\n// 6. INIT\n// ================================================\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initModal();\n  initOpenButton(); // ← ВАЖНО\n  initRating();\n  initForm();\n});\n","import $ from 'jquery';\nwindow.$ = $;\nwindow.jQuery = $;\n\nimport './js/mobile-menu.js';\nimport './js/artists.js';\nimport './js/artist-details-modal.js';\nimport './js/feedback.js';\nimport './js/feedback-modal.js';\nimport './js/feedback-swiper.js';\nimport './js/feedback-raty.js';\n"],"names":["menuBtn","closeBtn","mobileMenu","body","closeMenu","e","link","domRefs","closeArtistModal","handleModalEscapeKey","initModalCloseHandlers","closeButton","overlay","event","getArtistDetails","artistId","artistRes","allArtistsRes","axios","artistData","allArtists","fullArtistData","artist","formatDuration","ms","totalSeconds","minutes","seconds","organizeTracksByAlbum","tracks","artistName","map","track","album","iconsUrl","renderArtistAlbums","tracksList","albumsContainer","albumsMap","ul","albumName","albumItem","title","wrapper","headerList","trackList","name","time","a","renderArtistDetails","data","thumb","years","gender","members","country","bio","renderArtistGenres","container","genres","genreKey","genreEl","noGenresEl","showArtistLoader","hideArtistLoader","loader$1","openArtistModal","loader","resetModalContent","error","API_BASE","artistsList","loadMoreBtn","emptyMsg","genresBtn","genresMenu","sortBtn","sortMenu","searchForm","searchInput","resetBtn","state","toggleLoader","show","showEmpty","closeDropdowns","toggleDropdown","menu","open","truncateText","text","maxLength","screenWidth","sanitizeText","generateArtistsMarkup","arr","_id","strArtist","strArtistThumb","strBiographyEN","genre","fetchArtistsFromApi","page","limit","sort","search","params","_a","fetchGenresFromApi","g","applyClientFilters","list","out","q","b","buildClientPool","pagesToFetch","all","p","chunk","renderFirstPage","pageItems","filtered","start","end","items","loadMore","next","btn","id","item","initGenresDropdown","url","getData","createMarkup","markupList","markup","initFeedbackSwiper","Swiper","index","className","initFeedbackRaty","el","rating","response","reviews","err","lockScroll","unlockScroll","showError","target","message","clearError","clearAllErrors","serverError","backdrop","openModal","closeModal","initModal","initOpenButton","openBtn","initRating","stars","input","star","value","s","initForm","form","nameInput","messageInput","ratingInput","ratingBlock","submitBtn","submitText","submitLoader","descr","valid","$"],"mappings":"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"}