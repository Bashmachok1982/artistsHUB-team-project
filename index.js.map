{"version":3,"file":"index.js","sources":["../src/js/mobile-menu.js","../src/js/artistModal/modalElements.js","../src/js/artistModal/modalHandlers.js","../src/js/artistModal/artistApi.js","../src/js/artistModal/time-format.js","../src/js/artistModal/albumGrouping.js","../src/img/icons.svg","../src/js/artistModal/render.js","../src/js/artistModal/loader.js","../src/js/artist-details-modal.js","../src/js/artists.js","../src/js/feedback.js","../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const menuBtn = document.querySelector('.mob-menu-btn');\n  const closeBtn = document.querySelector('.menu-close-btn');\n  const mobileMenu = document.querySelector('#mobileMenu');\n  const body = document.body;\n\n  menuBtn?.addEventListener('click', () => {\n    mobileMenu.classList.add('is-open');\n    body.classList.add('menu-open'); // –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–∫—Ä–æ–ª–ª–∞\n  });\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é\n  closeBtn?.addEventListener('click', closeMenu);\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–µ–Ω—é (–Ω–∞ —Ñ–æ–Ω)\n  mobileMenu?.addEventListener('click', e => {\n    if (e.target === mobileMenu) {\n      closeMenu();\n    }\n  });\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n      closeMenu();\n    }\n  });\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É (–æ—Å–æ–±–µ–Ω–Ω–æ —É–¥–æ–±–Ω–æ –¥–ª—è –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∏–∫–∞)\n  document.querySelectorAll('.mobile-link').forEach(link => {\n    link.addEventListener('click', closeMenu);\n  });\n\n  function closeMenu() {\n    mobileMenu.classList.remove('is-open');\n    body.classList.remove('menu-open');\n  }\n\n  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö–µ–¥–µ—Ä + —Å–º–µ–Ω–∞ —Å—Ç–∏–ª—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ\n  let lastScroll = 0;\n  window.addEventListener('scroll', () => {\n    const currentScroll = window.scrollY;\n\n    if (currentScroll > 50) {\n      document.querySelector('.header').classList.add('scrolled');\n    } else {\n      document.querySelector('.header').classList.remove('scrolled');\n    }\n\n    lastScroll = currentScroll;\n  });\n});\n","export const domRefs = {\n  modal: document.querySelector(\".modal\"),\n  artistDataLoader: document.getElementById(\"artistDataLoader\"),\n  artistDataSpinner: document.querySelector(\n    \"#artistDataLoader .artist-loader__spinner\",\n  ),\n\n  artist: {\n    name: document.querySelector(\".modal__artist-name\"),\n    thumb: document.querySelector(\".modal__artist-thumb\"),\n    years: document.querySelector(\".modal__artist-years\"),\n    gender: document.querySelector(\".modal__artist-gender\"),\n    members: document.querySelector(\".modal__artist-members\"),\n    country: document.querySelector(\".modal__artist-country\"),\n    bio: document.querySelector(\".modal__artist-bio\"),\n    genres: document.querySelector(\".modal__artist-genres\"),\n  },\n  albums: {\n    container: document.querySelector(\".modal__albums-container\"),\n  },\n  artistCardSection: document.querySelector(\".modal__artist\"),\n};\n","import { domRefs } from \"./modalElements.js\";\n\nfunction closeArtistModal() {\n  domRefs.modal.classList.add(\"modal--hidden\");\n  document.body.classList.remove(\"no-scroll\");\n  document.body.style.overflow = \"\";\n  document.documentElement.style.overflow = \"\";\n  document.removeEventListener(\"keydown\", handleModalEscapeKey);\n}\n\nfunction initModalCloseHandlers() {\n  const closeButton = document.querySelector(\".modal__close-btn\");\n  const overlay = document.querySelector(\".modal\");\n\n  if (closeButton) {\n    closeButton.addEventListener(\"click\", closeArtistModal);\n  }\n  if (overlay) {\n    overlay.addEventListener(\"click\", (event) => {\n      if (event.target === overlay) {\n        closeArtistModal();\n      }\n    });\n  }\n}\n\nfunction handleModalEscapeKey(e) {\n  if (\n    e.key === \"Escape\" &&\n    !domRefs.modal.classList.contains(\"modal--hidden\")\n  ) {\n    closeArtistModal();\n  }\n}\n\nexport { closeArtistModal, initModalCloseHandlers, handleModalEscapeKey };\n","import axios from 'axios';\n\nexport async function getArtistDetails(artistId) {\n  if (!artistId) {\n    throw new Error('Artist ID is required');\n  }\n  const [artistRes, allArtistsRes] = await Promise.all([\n    axios.get(`https://sound-wave.b.goit.study/api/artists/${artistId}`),\n    axios.get(`https://sound-wave.b.goit.study/api/artists`),\n  ]);\n\n  const artistData = artistRes.data;\n\n  const allArtists = allArtistsRes.data.artists || [];\n\n  if (!artistData?.strArtist) throw new Error('No artist data');\n\n  const fullArtistData = allArtists.find(artist => artist._id === artistId);\n\n  if (!fullArtistData) {\n    console.warn('Artist not found ‚ùóÔ∏è:', artistId);\n  } else if (fullArtistData.genres) {\n    artistData.genres = fullArtistData.genres;\n  }\n\n  return artistData;\n}\n","/**\n * format \"mm:ss\"\n * @param {number} ms \n * @returns {string}\n */\n\n\nexport function formatDuration(ms) {\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n}\n","export function organizeTracksByAlbum(tracks, artistName) {\n  return tracks.reduce((map, track) => {\n    if (track.strArtist !== artistName) return map;\n    const album = track.strAlbum || \"Unknown Album\";\n    if (!map[album]) map[album] = [];\n    map[album].push(track);\n    return map;\n  }, {});\n}\n","export default \"__VITE_ASSET__DfXyLjiA__\"","import { domRefs } from './modalElements.js';\nimport { formatDuration } from './time-format.js';\nimport { organizeTracksByAlbum } from './albumGrouping.js';\n\n// —ñ–∫–æ–Ω–∫–∏\nimport iconsUrl from '../../img/icons.svg';\n\nexport function renderArtistAlbums(tracksList, artistName) {\n  const albumsContainer = domRefs.albums.container;\n  if (!albumsContainer) return;\n\n  const albumsMap = organizeTracksByAlbum(tracksList, artistName); // –û–± º—î–∫—Ç: { albumName: [tracks] }\n  albumsContainer.innerHTML = '';\n\n  const ul = document.createElement('ul');\n  ul.classList.add('modal__albums-list');\n\n  for (const [albumName, tracks] of Object.entries(albumsMap)) {\n    const albumItem = document.createElement('li');\n    albumItem.className = 'modal__album-item';\n\n    const title = document.createElement('h4');\n    title.className = 'modal__album-title';\n    title.textContent = albumName;\n    albumItem.appendChild(title);\n\n    const wrapper = document.createElement('div');\n    wrapper.className = 'modal__tracks-wrapper';\n\n    // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫\n    const headerList = document.createElement('ul');\n    headerList.className = 'modal__tracks-header';\n    headerList.innerHTML = `\n      <li class=\"modal__track-name-col\">track</li>\n      <li class=\"modal__track-time-col\">time</li>\n      <li class=\"modal__track-link-col\">link</li>\n    `;\n    wrapper.appendChild(headerList);\n\n    // –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫—ñ–≤\n    tracks.forEach(track => {\n      const trackList = document.createElement('ul');\n      trackList.className = 'modal__track-item';\n\n      const name = document.createElement('li');\n      name.className = 'modal__track-name';\n      name.textContent = track.strTrack || '';\n\n      const time = document.createElement('li');\n      time.className = 'modal__track-time';\n      time.textContent = track.intDuration\n        ? formatDuration(track.intDuration)\n        : '';\n\n      const link = document.createElement('li');\n      link.className = 'modal__track-link';\n\n      if (track.movie) {\n        const a = document.createElement('a');\n        a.href = track.movie;\n        a.target = '_blank';\n        a.rel = 'noopener noreferrer';\n        a.innerHTML = `\n        <svg width=\"16\" height=\"16\">\n          <use href=\"${iconsUrl}#icon-youtube\"></use>\n        </svg>`;\n        link.appendChild(a);\n      }\n\n      trackList.append(name, time, link);\n      wrapper.appendChild(trackList);\n    });\n\n    albumItem.appendChild(wrapper);\n    ul.appendChild(albumItem);\n  }\n\n  albumsContainer.appendChild(ul);\n}\n\nexport function renderArtistDetails(data) {\n  const { name, thumb, years, gender, members, country, bio } = domRefs.artist;\n\n  name.textContent = data.strArtist ?? 'No name';\n  thumb.src =\n    data.strArtistThumb || 'https://via.placeholder.com/200x200?text=No+Image';\n  thumb.alt = `Artist photo ${data.strArtist ?? ''}`;\n  bio.textContent = data.strBiographyEN ?? 'No description';\n\n  years.textContent = data.intFormedYear\n    ? `${data.intFormedYear} - ${data.intDiedYear || 'present'}`\n    : 'No data';\n  gender.textContent = data.strGender || 'No data';\n  members.textContent = data.intMembers || 'No data';\n  country.textContent = data.strCountry || 'No data';\n}\n\nexport function renderArtistGenres(container, genres) {\n  if (!(container instanceof HTMLElement)) {\n    console.error('container not DOM-element:', container);\n    return;\n  }\n\n  container.innerHTML = '';\n\n  if (genres && genres.length > 0) {\n    genres.forEach(genreKey => {\n      const genreEl = document.createElement('span');\n      genreEl.classList.add('modal__genres-item');\n      genreEl.textContent = genreKey;\n      container.appendChild(genreEl);\n    });\n  } else {\n    const noGenresEl = document.createElement('span');\n    noGenresEl.classList.add('modal__genres-item');\n    noGenresEl.textContent = 'Genres not available';\n    container.appendChild(noGenresEl);\n  }\n}\n","import { domRefs } from \"./modalElements.js\";\n\nfunction showArtistLoader() {\n  if (!domRefs.artistDataLoader || !domRefs.artistCardSection) {\n    console.error(\"DOM references for loader are not found!\");\n    return;\n  }\n  document\n    .querySelector(\"#globalLoader\")\n    .classList.remove(\"global-loader--hidden\");\n  domRefs.artistDataLoader.classList.remove(\"artist-loader--hidden\");\n  domRefs.artistDataLoader.classList.add(\"artist-loader--visible\");\n  domRefs.artistCardSection.classList.add(\"hidden\");\n}\n\nfunction hideArtistLoader() {\n  if (!domRefs.artistDataLoader || !domRefs.artistCardSection) {\n    console.error(\"DOM references for loader are not found!\");\n    return;\n  }\n  document\n    .querySelector(\"#globalLoader\")\n    .classList.add(\"global-loader--hidden\");\n  domRefs.artistDataLoader.classList.remove(\"artist-loader--visible\");\n  domRefs.artistDataLoader.classList.add(\"artist-loader--hidden\");\n  domRefs.artistCardSection.classList.remove(\"hidden\");\n}\n\nexport default {\n  showArtistLoader,\n  hideArtistLoader,\n};\n","import { domRefs } from './artistModal/modalElements.js';\nimport {\n  closeArtistModal,\n  initModalCloseHandlers,\n  handleModalEscapeKey,\n} from './artistModal/modalHandlers.js';\nimport { getArtistDetails } from './artistModal/artistApi.js';\nimport {\n  renderArtistDetails,\n  renderArtistAlbums,\n  renderArtistGenres,\n} from './artistModal/render.js';\nimport loader from './artistModal/loader.js';\n\nlet loaderTimerId = null;\n// –∑–∞—Ç—Ä–∏–º–∫a\nconst LOADER_DELAY_MS = 300;\n\nexport async function openArtistModal(artistId) {\n  try {\n    loader.showArtistLoader();\n\n    const artistData = await getArtistDetails(artistId);\n    const genres = artistData.genres || [];\n\n    resetModalContent();\n    renderArtistDetails(artistData);\n    renderArtistAlbums(artistData.tracksList, artistData.strArtist);\n    renderArtistGenres(domRefs.artist.genres, genres);\n\n    loader.hideArtistLoader();\n\n    domRefs.modal.classList.remove('modal--hidden');\n    document.body.style.overflow = 'hidden';\n    document.documentElement.style.overflow = 'hidden';\n\n    document.addEventListener('keydown', handleModalEscapeKey);\n  } catch (error) {\n    console.error('Error to load artist data:', error.message, error);\n    loader.hideArtistLoader();\n    alert('Artist data not found');\n    closeArtistModal();\n  }\n}\n\n// –∑–∞—á–∏—Å—Ç–∫–∞\nfunction resetModalContent() {\n  if (domRefs.albums.container) domRefs.albums.container.innerHTML = '';\n  if (domRefs.artist.genres) domRefs.artist.genres.innerHTML = '';\n}\ninitModalCloseHandlers();\n","import axios from 'axios';\nimport { openArtistModal } from './artist-details-modal';\n\n// —ñ–∫–æ–Ω–∫–∏\nimport iconsUrl from '../img/icons.svg';\n\nasync function fetchArtists(page = 1) {\n  try {\n    const response = await axios.get(\n      `https://sound-wave.b.goit.study/api/artists?limit=8&page=${page}`\n    );\n    return response.data.artists;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nconst artistsList = document.querySelector('.artists__list');\n\nlet currentPage = 0;\n\nrenderArtists();\n\nasync function renderArtists() {\n  const artists = await fetchArtists();\n  const markup = generateArtistsMarkup(artists);\n  artistsList.innerHTML = markup;\n  currentPage = 1;\n}\n\n// –ö–Ω–æ–ø–∫–∞ loadMore\nconst loadMoreBtn = document.querySelector('.artists__load-more-btn');\nloadMoreBtn.addEventListener('click', loadMoreArtists);\nasync function loadMoreArtists() {\n  try {\n    toggleLoader(true);\n    loadMoreBtn.style.display = 'none';\n    currentPage += 1;\n    const artists = await fetchArtists(currentPage);\n    if (artists.length === 0) {\n      loadMoreBtn.style.display = 'none';\n    }\n\n    const markup = generateArtistsMarkup(artists);\n    const beforeCount = artistsList.children.length;\n    artistsList.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    toggleLoader(false);\n    loadMoreBtn.style.display = 'flex';\n  }\n}\n\nfunction truncateText(text, maxLength) {\n  // —è–∫—â–æ text undefined, —Ä–æ–∑–≤–µ—Ä—Ç–∞—î–º–æ...\n  if (typeof text !== 'string') {\n    return '';\n  }\n  // —Ä—ñ–∑–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 768) {\n    maxLength = 60;\n  } else if (screenWidth < 1440) {\n    maxLength = 160;\n  } else {\n    maxLength = 144;\n  }\n\n  if (text.length > maxLength) {\n    return text.slice(0, maxLength) + '...';\n  }\n  return text;\n}\nfunction sanitizeText(text) {\n  return text.replace(/[,/]/g, ' ');\n}\n\n// —Ä–æ–∑–º—ñ—Ç–∫–∞\nfunction generateArtistsMarkup(arr) {\n  return (\n    arr\n      .map(\n        ({ _id, genres, strArtist, strArtistThumb, strBiographyEN }) =>\n          `\n      <li class=\"artists__card\">\n\n        <img class=\"artists__card-image\" src=\"${strArtistThumb}\" alt=\"${strArtist}\"/>\n\n        <ul class=\"artists__card-genres\">\n        ${genres\n          .map(\n            genre =>\n              `<li class=\"artists__card-genre\">${sanitizeText(genre)}</li>`\n          )\n          .join('')}\n        </ul>\n        <p class=\"artists__card-name\">${strArtist}</p>\n        <p class=\"artists__card-description\">${truncateText(strBiographyEN, 144)}</p>\n       <button class=\"artists__card-btn open-artist-modal\" data-artist-id=\"${_id}\">\n       Learn More\n        <svg class=\"artists__card-btn-icon\" width=\"24\" height=\"24\">\n            <use href=\"${iconsUrl}#icon-caret-right\"></use>\n          </svg>\n       </button>\n     </li>\n      `\n      )\n      .join('') || ''\n  );\n}\n\n// –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–∫–∏\nartistsList.addEventListener('click', handleArtistCardClick);\nfunction handleArtistCardClick(event) {\n  const targetButton = event.target.closest('.open-artist-modal');\n\n  if (targetButton) {\n    // –ê–π-–¥—ñ –∞—Ä—Ç–∏—Å—Ç–∞\n    const artistId = targetButton.dataset.artistId;\n    if (artistId) {\n      openArtistModal(artistId);\n    } else {\n      console.error('Artist ID not found üò±.');\n    }\n  }\n}\n\n// LOADER –í–ö–õ–Æ–ß–ò–¢–ò/–í–ò–ö–õ–Æ–ß–ò–¢–ò\nconst loader = document.querySelector('.loader');\nfunction toggleLoader(show) {\n  if (show) {\n    loader.style.display = 'inline-block';\n  } else {\n    loader.style.display = 'none';\n  }\n}\n","import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst URL = 'https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1';\nconst feedbackContainer = document.getElementById('feedback-container');\n\nasync function loadFeedbacks() {\n\n  try {    \n    const response = await fetch('https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1');\n    const result = await response.json();\n    if (!result.data) {\n      console.error('–ü–æ–ª–µ \"data\" –≤—ñ–¥—Å—É—Ç–Ω—î –≤ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ!');\n      return;\n    }\n    const feedbacksArray = result.data;\n    renderFeedbacks(feedbacksArray);\n    initSwiper();\n\n  } catch (error) {\n    console.error(\"4. –ü–æ–º–∏–ª–∫–∞ –¥–æ –≤–∏–∫–ª–∏–∫—É —Ä–µ–Ω–¥–µ—Ä—É:\", error.message);\n  }\n}\n\nfunction renderFeedbacks(feedbacks) {\n  //console.log(\"renderFeedbacks\");\n  const markup = feedbacks.map(({ rating, descr, name }) => {\n    \n    const roundedRating = Math.round(rating);\n    const stars = Array.from({ length: 5 }, (_, i) => \n      `<span class=\"star ${i < roundedRating ? 'filled' : 'star-empty'}\">‚òÖ</span>`\n    ).join('');\n\n    return `\n      <div class=\"swiper-slide\">\n        <div class=\"stars-container\">${stars}</div>\n        <p class=\"feedback-text\">\"${descr}\"</p>\n        <p class=\"user-name\">${name}</p>\n      </div>\n    `;\n  }).join('');\n\n  feedbackContainer.innerHTML = markup;\n}\n\nfunction initSwiper() {\n  new Swiper('.feedback-slider', {\n    modules: [Navigation, Pagination],\n    slidesPerView: 1,\n    spaceBetween: 20,\n\n    grabCursor: false, // –¥–ª—è —Å–≤–∞–π–ø—É\n\n\n\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n      renderBullet: function (index, className) {\n       \n        // index === 0 (–ø–µ—Ä—à–∏–π), 1 (—Å–µ—Ä–µ–¥–Ω—ñ–π), 2 (–æ—Å—Ç–∞–Ω–Ω—ñ–π)\n        if (index < 3) {\n          return `<span class=\"${className} custom-bullet-${index}\"></span>`;\n        }\n        return ''; \n      },\n    },  \n    on: {\n      slideChange: function () {\n        const activeIndex = this.realIndex; \n        const bullets = document.querySelectorAll('.swiper-pagination-bullet');        \n        \n        bullets.forEach(b => b.classList.remove('swiper-pagination-bullet-active'));\n\n        if (activeIndex === 0) {\n          bullets[0]?.classList.add('swiper-pagination-bullet-active');\n        } else if (activeIndex === 9) {\n          bullets[2]?.classList.add('swiper-pagination-bullet-active');\n        } else {\n          bullets[1]?.classList.add('swiper-pagination-bullet-active');\n        }\n      },\n    },\n  });\n}\n\nloadFeedbacks();","import $ from 'jquery';\nwindow.$ = $;\nwindow.jQuery = $;\n\nimport './js/mobile-menu.js';\nimport './js/artists.js';\nimport './js/artist-details-modal.js';\nimport './js/feedback.js';\n\n//import './js/feedback-modal.js';\n//import './js/feedback-swiper.js';\n//import './js/feedback-raty.js';\n\n"],"names":["menuBtn","closeBtn","mobileMenu","body","closeMenu","e","link","domRefs","closeArtistModal","handleModalEscapeKey","initModalCloseHandlers","closeButton","overlay","event","getArtistDetails","artistId","artistRes","allArtistsRes","axios","artistData","allArtists","fullArtistData","artist","formatDuration","ms","totalSeconds","minutes","seconds","organizeTracksByAlbum","tracks","artistName","map","track","album","iconsUrl","renderArtistAlbums","tracksList","albumsContainer","albumsMap","ul","albumName","albumItem","title","wrapper","headerList","trackList","name","time","a","renderArtistDetails","data","thumb","years","gender","members","country","bio","renderArtistGenres","container","genres","genreKey","genreEl","noGenresEl","showArtistLoader","hideArtistLoader","loader$1","openArtistModal","loader","resetModalContent","error","fetchArtists","page","artistsList","currentPage","renderArtists","artists","markup","generateArtistsMarkup","loadMoreBtn","loadMoreArtists","toggleLoader","beforeCount","truncateText","text","maxLength","screenWidth","sanitizeText","arr","_id","strArtist","strArtistThumb","strBiographyEN","genre","handleArtistCardClick","targetButton","show","feedbackContainer","loadFeedbacks","result","feedbacksArray","renderFeedbacks","initSwiper","feedbacks","rating","descr","roundedRating","_","i","Swiper","Navigation","Pagination","index","className","activeIndex","bullets","b","_a","_b","_c","$"],"mappings":"kxBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAO,SAAS,KAEtBH,GAAA,MAAAA,EAAS,iBAAiB,QAAS,IAAM,CACvCE,EAAW,UAAU,IAAI,SAAS,EAClCC,EAAK,UAAU,IAAI,WAAW,CAClC,GAGEF,GAAA,MAAAA,EAAU,iBAAiB,QAASG,GAGpCF,GAAA,MAAAA,EAAY,iBAAiB,QAASG,GAAK,CACrCA,EAAE,SAAWH,GACfE,GAEN,GAGE,SAAS,iBAAiB,UAAWC,GAAK,CACpCA,EAAE,MAAQ,UAAYH,EAAW,UAAU,SAAS,SAAS,GAC/DE,GAEN,CAAG,EAGD,SAAS,iBAAiB,cAAc,EAAE,QAAQE,GAAQ,CACxDA,EAAK,iBAAiB,QAASF,CAAS,CAC5C,CAAG,EAED,SAASA,GAAY,CACnBF,EAAW,UAAU,OAAO,SAAS,EACrCC,EAAK,UAAU,OAAO,WAAW,CAClC,CAID,OAAO,iBAAiB,SAAU,IAAM,CAChB,OAAO,QAET,GAClB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,UAAU,EAE1D,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,UAAU,CAInE,CAAG,CACH,CAAC,ECnDM,MAAMI,EAAU,CACrB,MAAO,SAAS,cAAc,QAAQ,EACtC,iBAAkB,SAAS,eAAe,kBAAkB,EAC5D,kBAAmB,SAAS,cAC1B,2CACD,EAED,OAAQ,CACN,KAAM,SAAS,cAAc,qBAAqB,EAClD,MAAO,SAAS,cAAc,sBAAsB,EACpD,MAAO,SAAS,cAAc,sBAAsB,EACpD,OAAQ,SAAS,cAAc,uBAAuB,EACtD,QAAS,SAAS,cAAc,wBAAwB,EACxD,QAAS,SAAS,cAAc,wBAAwB,EACxD,IAAK,SAAS,cAAc,oBAAoB,EAChD,OAAQ,SAAS,cAAc,uBAAuB,CACvD,EACD,OAAQ,CACN,UAAW,SAAS,cAAc,0BAA0B,CAC7D,EACD,kBAAmB,SAAS,cAAc,gBAAgB,CAC5D,ECnBA,SAASC,GAAmB,CAC1BD,EAAQ,MAAM,UAAU,IAAI,eAAe,EAC3C,SAAS,KAAK,UAAU,OAAO,WAAW,EAC1C,SAAS,KAAK,MAAM,SAAW,GAC/B,SAAS,gBAAgB,MAAM,SAAW,GAC1C,SAAS,oBAAoB,UAAWE,CAAoB,CAC9D,CAEA,SAASC,GAAyB,CAChC,MAAMC,EAAc,SAAS,cAAc,mBAAmB,EACxDC,EAAU,SAAS,cAAc,QAAQ,EAE3CD,GACFA,EAAY,iBAAiB,QAASH,CAAgB,EAEpDI,GACFA,EAAQ,iBAAiB,QAAUC,GAAU,CACvCA,EAAM,SAAWD,GACnBJ,GAER,CAAK,CAEL,CAEA,SAASC,EAAqB,EAAG,CAE7B,EAAE,MAAQ,UACV,CAACF,EAAQ,MAAM,UAAU,SAAS,eAAe,GAEjDC,GAEJ,CC/BO,eAAeM,EAAiBC,EAAU,CAC/C,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,uBAAuB,EAEzC,KAAM,CAACC,EAAWC,CAAa,EAAI,MAAM,QAAQ,IAAI,CACnDC,EAAM,IAAI,+CAA+CH,CAAQ,EAAE,EACnEG,EAAM,IAAI,6CAA6C,CAC3D,CAAG,EAEKC,EAAaH,EAAU,KAEvBI,EAAaH,EAAc,KAAK,SAAW,CAAA,EAEjD,GAAI,EAACE,GAAA,MAAAA,EAAY,WAAW,MAAM,IAAI,MAAM,gBAAgB,EAE5D,MAAME,EAAiBD,EAAW,KAAKE,GAAUA,EAAO,MAAQP,CAAQ,EAExE,OAAKM,EAEMA,EAAe,SACxBF,EAAW,OAASE,EAAe,QAFnC,QAAQ,KAAK,uBAAwBN,CAAQ,EAKxCI,CACT,CCnBO,SAASI,EAAeC,EAAI,CACjC,MAAMC,EAAe,KAAK,MAAMD,EAAK,GAAI,EACnCE,EAAU,KAAK,MAAMD,EAAe,EAAE,EACtCE,EAAUF,EAAe,GAE/B,MAAO,GAAGC,CAAO,IAAIC,EAAQ,WAAW,SAAS,EAAG,GAAG,CAAC,EAC1D,CCbO,SAASC,EAAsBC,EAAQC,EAAY,CACxD,OAAOD,EAAO,OAAO,CAACE,EAAKC,IAAU,CACnC,GAAIA,EAAM,YAAcF,EAAY,OAAOC,EAC3C,MAAME,EAAQD,EAAM,UAAY,gBAChC,OAAKD,EAAIE,CAAK,IAAGF,EAAIE,CAAK,EAAI,IAC9BF,EAAIE,CAAK,EAAE,KAAKD,CAAK,EACdD,CACR,EAAE,CAAE,CAAA,CACP,CCRA,MAAeG,EAAA,qDCOR,SAASC,EAAmBC,EAAYN,EAAY,CACzD,MAAMO,EAAkB9B,EAAQ,OAAO,UACvC,GAAI,CAAC8B,EAAiB,OAEtB,MAAMC,EAAYV,EAAsBQ,EAAYN,CAAU,EAC9DO,EAAgB,UAAY,GAE5B,MAAME,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,oBAAoB,EAErC,SAAW,CAACC,EAAWX,CAAM,IAAK,OAAO,QAAQS,CAAS,EAAG,CAC3D,MAAMG,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,oBAEtB,MAAMC,EAAQ,SAAS,cAAc,IAAI,EACzCA,EAAM,UAAY,qBAClBA,EAAM,YAAcF,EACpBC,EAAU,YAAYC,CAAK,EAE3B,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,wBAGpB,MAAMC,EAAa,SAAS,cAAc,IAAI,EAC9CA,EAAW,UAAY,uBACvBA,EAAW,UAAY;AAAA;AAAA;AAAA;AAAA,MAKvBD,EAAQ,YAAYC,CAAU,EAG9Bf,EAAO,QAAQG,GAAS,CACtB,MAAMa,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,oBAEtB,MAAMC,EAAO,SAAS,cAAc,IAAI,EACxCA,EAAK,UAAY,oBACjBA,EAAK,YAAcd,EAAM,UAAY,GAErC,MAAMe,EAAO,SAAS,cAAc,IAAI,EACxCA,EAAK,UAAY,oBACjBA,EAAK,YAAcf,EAAM,YACrBT,EAAeS,EAAM,WAAW,EAChC,GAEJ,MAAM1B,EAAO,SAAS,cAAc,IAAI,EAGxC,GAFAA,EAAK,UAAY,oBAEb0B,EAAM,MAAO,CACf,MAAMgB,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOhB,EAAM,MACfgB,EAAE,OAAS,SACXA,EAAE,IAAM,sBACRA,EAAE,UAAY;AAAA;AAAA,uBAECd,CAAQ;AAAA,gBAEvB5B,EAAK,YAAY0C,CAAC,CACnB,CAEDH,EAAU,OAAOC,EAAMC,EAAMzC,CAAI,EACjCqC,EAAQ,YAAYE,CAAS,CACnC,CAAK,EAEDJ,EAAU,YAAYE,CAAO,EAC7BJ,EAAG,YAAYE,CAAS,CACzB,CAEDJ,EAAgB,YAAYE,CAAE,CAChC,CAEO,SAASU,EAAoBC,EAAM,CACxC,KAAM,CAAE,KAAAJ,EAAM,MAAAK,EAAO,MAAAC,EAAO,OAAAC,EAAQ,QAAAC,EAAS,QAAAC,EAAS,IAAAC,CAAG,EAAKjD,EAAQ,OAEtEuC,EAAK,YAAcI,EAAK,WAAa,UACrCC,EAAM,IACJD,EAAK,gBAAkB,oDACzBC,EAAM,IAAM,gBAAgBD,EAAK,WAAa,EAAE,GAChDM,EAAI,YAAcN,EAAK,gBAAkB,iBAEzCE,EAAM,YAAcF,EAAK,cACrB,GAAGA,EAAK,aAAa,MAAMA,EAAK,aAAe,SAAS,GACxD,UACJG,EAAO,YAAcH,EAAK,WAAa,UACvCI,EAAQ,YAAcJ,EAAK,YAAc,UACzCK,EAAQ,YAAcL,EAAK,YAAc,SAC3C,CAEO,SAASO,EAAmBC,EAAWC,EAAQ,CACpD,GAAI,EAAED,aAAqB,aAAc,CACvC,QAAQ,MAAM,6BAA8BA,CAAS,EACrD,MACD,CAID,GAFAA,EAAU,UAAY,GAElBC,GAAUA,EAAO,OAAS,EAC5BA,EAAO,QAAQC,GAAY,CACzB,MAAMC,EAAU,SAAS,cAAc,MAAM,EAC7CA,EAAQ,UAAU,IAAI,oBAAoB,EAC1CA,EAAQ,YAAcD,EACtBF,EAAU,YAAYG,CAAO,CACnC,CAAK,MACI,CACL,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,oBAAoB,EAC7CA,EAAW,YAAc,uBACzBJ,EAAU,YAAYI,CAAU,CACjC,CACH,CCpHA,SAASC,GAAmB,CAC1B,GAAI,CAACxD,EAAQ,kBAAoB,CAACA,EAAQ,kBAAmB,CAC3D,QAAQ,MAAM,0CAA0C,EACxD,MACD,CACD,SACG,cAAc,eAAe,EAC7B,UAAU,OAAO,uBAAuB,EAC3CA,EAAQ,iBAAiB,UAAU,OAAO,uBAAuB,EACjEA,EAAQ,iBAAiB,UAAU,IAAI,wBAAwB,EAC/DA,EAAQ,kBAAkB,UAAU,IAAI,QAAQ,CAClD,CAEA,SAASyD,GAAmB,CAC1B,GAAI,CAACzD,EAAQ,kBAAoB,CAACA,EAAQ,kBAAmB,CAC3D,QAAQ,MAAM,0CAA0C,EACxD,MACD,CACD,SACG,cAAc,eAAe,EAC7B,UAAU,IAAI,uBAAuB,EACxCA,EAAQ,iBAAiB,UAAU,OAAO,wBAAwB,EAClEA,EAAQ,iBAAiB,UAAU,IAAI,uBAAuB,EAC9DA,EAAQ,kBAAkB,UAAU,OAAO,QAAQ,CACrD,CAEA,MAAe0D,EAAA,CACb,iBAAAF,EACA,iBAAAC,CACF,ECbO,eAAeE,EAAgBnD,EAAU,CAC9C,GAAI,CACFoD,EAAO,iBAAgB,EAEvB,MAAMhD,EAAa,MAAML,EAAiBC,CAAQ,EAC5C4C,EAASxC,EAAW,QAAU,GAEpCiD,IACAnB,EAAoB9B,CAAU,EAC9BgB,EAAmBhB,EAAW,WAAYA,EAAW,SAAS,EAC9DsC,EAAmBlD,EAAQ,OAAO,OAAQoD,CAAM,EAEhDQ,EAAO,iBAAgB,EAEvB5D,EAAQ,MAAM,UAAU,OAAO,eAAe,EAC9C,SAAS,KAAK,MAAM,SAAW,SAC/B,SAAS,gBAAgB,MAAM,SAAW,SAE1C,SAAS,iBAAiB,UAAWE,CAAoB,CAC1D,OAAQ4D,EAAO,CACd,QAAQ,MAAM,6BAA8BA,EAAM,QAASA,CAAK,EAChEF,EAAO,iBAAgB,EACvB,MAAM,uBAAuB,EAC7B3D,GACD,CACH,CAGA,SAAS4D,GAAoB,CACvB7D,EAAQ,OAAO,YAAWA,EAAQ,OAAO,UAAU,UAAY,IAC/DA,EAAQ,OAAO,SAAQA,EAAQ,OAAO,OAAO,UAAY,GAC/D,CACAG,EAAwB,EC5CxB,eAAe4D,EAAaC,EAAO,EAAG,CACpC,GAAI,CAIF,OAHiB,MAAMrD,EAAM,IAC3B,4DAA4DqD,CAAI,EACtE,GACoB,KAAK,OACtB,OAAQF,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,MAAMG,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAAc,EAElBC,IAEA,eAAeA,GAAgB,CAC7B,MAAMC,EAAU,MAAML,IAChBM,EAASC,EAAsBF,CAAO,EAC5CH,EAAY,UAAYI,EACxBH,EAAc,CAChB,CAGA,MAAMK,EAAc,SAAS,cAAc,yBAAyB,EACpEA,EAAY,iBAAiB,QAASC,CAAe,EACrD,eAAeA,GAAkB,CAC/B,GAAI,CACFC,EAAa,EAAI,EACjBF,EAAY,MAAM,QAAU,OAC5BL,GAAe,EACf,MAAME,EAAU,MAAML,EAAaG,CAAW,EAC1CE,EAAQ,SAAW,IACrBG,EAAY,MAAM,QAAU,QAG9B,MAAMF,EAASC,EAAsBF,CAAO,EACtCM,EAAcT,EAAY,SAAS,OACzCA,EAAY,mBAAmB,YAAaI,CAAM,CACnD,OAAQP,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRW,EAAa,EAAK,EAClBF,EAAY,MAAM,QAAU,MAC7B,CACH,CAEA,SAASI,EAAaC,EAAMC,EAAW,CAErC,GAAI,OAAOD,GAAS,SAClB,MAAO,GAGT,MAAME,EAAc,OAAO,WAS3B,OARIA,EAAc,IAChBD,EAAY,GACHC,EAAc,KACvBD,EAAY,IAEZA,EAAY,IAGVD,EAAK,OAASC,EACTD,EAAK,MAAM,EAAGC,CAAS,EAAI,MAE7BD,CACT,CACA,SAASG,EAAaH,EAAM,CAC1B,OAAOA,EAAK,QAAQ,QAAS,GAAG,CAClC,CAGA,SAASN,EAAsBU,EAAK,CAClC,OACEA,EACG,IACC,CAAC,CAAE,IAAAC,EAAK,OAAA7B,EAAQ,UAAA8B,EAAW,eAAAC,EAAgB,eAAAC,CAAgB,IACzD;AAAA;AAAA;AAAA,gDAGsCD,CAAc,UAAUD,CAAS;AAAA;AAAA;AAAA,UAGvE9B,EACC,IACCiC,GACE,mCAAmCN,EAAaM,CAAK,CAAC,OACzD,EACA,KAAK,EAAE,CAAC;AAAA;AAAA,wCAEqBH,CAAS;AAAA,+CACFP,EAAaS,EAAgB,GAAG,CAAC;AAAA,6EACHH,CAAG;AAAA;AAAA;AAAA,yBAGvDtD,CAAQ;AAAA;AAAA;AAAA;AAAA,OAK1B,EACA,KAAK,EAAE,GAAK,EAEnB,CAGAsC,EAAY,iBAAiB,QAASqB,CAAqB,EAC3D,SAASA,EAAsBhF,EAAO,CACpC,MAAMiF,EAAejF,EAAM,OAAO,QAAQ,oBAAoB,EAE9D,GAAIiF,EAAc,CAEhB,MAAM/E,EAAW+E,EAAa,QAAQ,SAClC/E,EACFmD,EAAgBnD,CAAQ,EAExB,QAAQ,MAAM,yBAAyB,CAE1C,CACH,CAGA,MAAMoD,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASa,EAAae,EAAM,CACtBA,EACF5B,EAAO,MAAM,QAAU,eAEvBA,EAAO,MAAM,QAAU,MAE3B,CCjIA,MAAM6B,EAAoB,SAAS,eAAe,oBAAoB,EAEtE,eAAeC,GAAgB,CAE7B,GAAI,CAEF,MAAMC,EAAS,MADE,MAAM,MAAM,+DAA+D,GAC9D,OAC9B,GAAI,CAACA,EAAO,KAAM,CAChB,QAAQ,MAAM,mCAAmC,EACjD,MACD,CACD,MAAMC,EAAiBD,EAAO,KAC9BE,EAAgBD,CAAc,EAC9BE,GAED,OAAQhC,EAAO,CACd,QAAQ,MAAM,iCAAkCA,EAAM,OAAO,CAC9D,CACH,CAEA,SAAS+B,EAAgBE,EAAW,CAElC,MAAM1B,EAAS0B,EAAU,IAAI,CAAC,CAAE,OAAAC,EAAQ,MAAAC,EAAO,KAAA1D,KAAW,CAExD,MAAM2D,EAAgB,KAAK,MAAMF,CAAM,EAKvC,MAAO;AAAA;AAAA,uCAJO,MAAM,KAAK,CAAE,OAAQ,CAAG,EAAE,CAACG,EAAGC,IAC1C,qBAAqBA,EAAIF,EAAgB,SAAW,YAAY,YACtE,EAAM,KAAK,EAAE,CAI+B;AAAA,oCACRD,CAAK;AAAA,+BACV1D,CAAI;AAAA;AAAA,KAGnC,CAAG,EAAE,KAAK,EAAE,EAEVkD,EAAkB,UAAYpB,CAChC,CAEA,SAASyB,GAAa,CACpB,IAAIO,EAAO,mBAAoB,CAC7B,QAAS,CAACC,EAAYC,CAAU,EAChC,cAAe,EACf,aAAc,GAEd,WAAY,GAIZ,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EAED,WAAY,CACV,GAAI,qBACJ,UAAW,GACX,aAAc,SAAUC,EAAOC,EAAW,CAGxC,OAAID,EAAQ,EACH,gBAAgBC,CAAS,kBAAkBD,CAAK,YAElD,EACR,CACF,EACD,GAAI,CACF,YAAa,UAAY,WACvB,MAAME,EAAc,KAAK,UACnBC,EAAU,SAAS,iBAAiB,2BAA2B,EAErEA,EAAQ,QAAQC,GAAKA,EAAE,UAAU,OAAO,iCAAiC,CAAC,EAEtEF,IAAgB,GAClBG,EAAAF,EAAQ,CAAC,IAAT,MAAAE,EAAY,UAAU,IAAI,mCACjBH,IAAgB,GACzBI,EAAAH,EAAQ,CAAC,IAAT,MAAAG,EAAY,UAAU,IAAI,oCAE1BC,EAAAJ,EAAQ,CAAC,IAAT,MAAAI,EAAY,UAAU,IAAI,kCAE7B,CACF,CACL,CAAG,CACH,CAEArB,EAAe,EC7Ff,OAAO,EAAIsB,EACX,OAAO,OAASA"}