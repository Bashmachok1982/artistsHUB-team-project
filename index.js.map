{"version":3,"file":"index.js","sources":["../src/js/mobile-menu.js","../src/js/artistModal/modalElements.js","../src/js/artistModal/modalHandlers.js","../src/js/artistModal/artistApi.js","../src/js/artistModal/time-format.js","../src/js/artistModal/albumGrouping.js","../src/js/artistModal/render.js","../src/js/artistModal/loader.js","../src/js/artist-details-modal.js","../src/js/artists.js","../src/js/feedback-api.js","../src/js/feedback-markup.js","../src/js/feedback.js","../src/js/feedback-modal.js"],"sourcesContent":["const openBtn = document.querySelector('[data-menu-open]');\nconst closeBtn = document.querySelector('[data-menu-close]');\nconst menu = document.querySelector('[data-menu]');\nconst links = document.querySelectorAll('.mobile-menu__link');\n\nif (openBtn && menu) {\n  openBtn.addEventListener('click', () => {\n    menu.classList.add('is-open');\n    openBtn.classList.add('is-active');\n    document.body.style.overflow = 'hidden';\n  });\n}\n\nif (closeBtn) {\n  closeBtn.addEventListener('click', closeMenu);\n}\n\nlinks.forEach(link => {\n  link.addEventListener('click', closeMenu);\n});\n\nfunction closeMenu() {\n  menu.classList.remove('is-open');\n  openBtn.classList.remove('is-active');\n  document.body.style.overflow = '';\n}","export const domRefs = {\n  modal: document.querySelector(\".modal\"),\n  artistDataLoader: document.getElementById(\"artistDataLoader\"),\n  artistDataSpinner: document.querySelector(\n    \"#artistDataLoader .artist-loader__spinner\",\n  ),\n\n  artist: {\n    name: document.querySelector(\".modal__artist-name\"),\n    thumb: document.querySelector(\".modal__artist-thumb\"),\n    years: document.querySelector(\".modal__artist-years\"),\n    gender: document.querySelector(\".modal__artist-gender\"),\n    members: document.querySelector(\".modal__artist-members\"),\n    country: document.querySelector(\".modal__artist-country\"),\n    bio: document.querySelector(\".modal__artist-bio\"),\n    genres: document.querySelector(\".modal__artist-genres\"),\n  },\n  albums: {\n    container: document.querySelector(\".modal__albums-container\"),\n  },\n  artistCardSection: document.querySelector(\".modal__artist\"),\n};\n","import { domRefs } from \"./modalElements.js\";\n\nfunction closeArtistModal() {\n  domRefs.modal.classList.add(\"modal--hidden\");\n  document.body.classList.remove(\"no-scroll\");\n  document.body.style.overflow = \"\";\n  document.documentElement.style.overflow = \"\";\n  document.removeEventListener(\"keydown\", handleModalEscapeKey);\n}\n\nfunction initModalCloseHandlers() {\n  const closeButton = document.querySelector(\".modal__close-btn\");\n  const overlay = document.querySelector(\".modal\");\n\n  if (closeButton) {\n    closeButton.addEventListener(\"click\", closeArtistModal);\n  }\n  if (overlay) {\n    overlay.addEventListener(\"click\", (event) => {\n      if (event.target === overlay) {\n        closeArtistModal();\n      }\n    });\n  }\n}\n\nfunction handleModalEscapeKey(e) {\n  if (\n    e.key === \"Escape\" &&\n    !domRefs.modal.classList.contains(\"modal--hidden\")\n  ) {\n    closeArtistModal();\n  }\n}\n\nexport { closeArtistModal, initModalCloseHandlers, handleModalEscapeKey };\n","import axios from 'axios';\n\nexport async function getArtistDetails(artistId) {\n  if (!artistId) {\n    throw new Error('Artist ID is required');\n  }\n  const [artistRes, allArtistsRes] = await Promise.all([\n    axios.get(`https://sound-wave.b.goit.study/api/artists/${artistId}`),\n    axios.get(`https://sound-wave.b.goit.study/api/artists`),\n  ]);\n\n  const artistData = artistRes.data;\n\n  const allArtists = allArtistsRes.data.artists || [];\n\n  if (!artistData?.strArtist) throw new Error('No artist data');\n\n  const fullArtistData = allArtists.find(artist => artist._id === artistId);\n\n  if (!fullArtistData) {\n    console.warn('Artist not found ‚ùóÔ∏è:', artistId);\n  } else if (fullArtistData.genres) {\n    artistData.genres = fullArtistData.genres;\n  }\n\n  return artistData;\n}\n","/**\n * format \"mm:ss\"\n * @param {number} ms \n * @returns {string}\n */\n\n\nexport function formatDuration(ms) {\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n}\n","export function organizeTracksByAlbum(tracks, artistName) {\n  return tracks.reduce((map, track) => {\n    if (track.strArtist !== artistName) return map;\n    const album = track.strAlbum || \"Unknown Album\";\n    if (!map[album]) map[album] = [];\n    map[album].push(track);\n    return map;\n  }, {});\n}\n","import { domRefs } from './modalElements.js';\nimport { formatDuration } from './time-format.js';\nimport { organizeTracksByAlbum } from './albumGrouping.js';\n\nexport function renderArtistAlbums(tracksList, artistName) {\n  const albumsContainer = domRefs.albums.container;\n  if (!albumsContainer) return;\n\n  const albumsMap = organizeTracksByAlbum(tracksList, artistName); // –û–± º—î–∫—Ç: { albumName: [tracks] }\n  albumsContainer.innerHTML = '';\n\n  const ul = document.createElement('ul');\n  ul.classList.add('modal__albums-list');\n\n  for (const [albumName, tracks] of Object.entries(albumsMap)) {\n    const albumItem = document.createElement('li');\n    albumItem.className = 'modal__album-item';\n\n    const title = document.createElement('h4');\n    title.className = 'modal__album-title';\n    title.textContent = albumName;\n    albumItem.appendChild(title);\n\n    const wrapper = document.createElement('div');\n    wrapper.className = 'modal__tracks-wrapper';\n\n    // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫\n    const headerList = document.createElement('ul');\n    headerList.className = 'modal__tracks-header';\n    headerList.innerHTML = `\n      <li class=\"modal__track-name-col\">track</li>\n      <li class=\"modal__track-time-col\">time</li>\n      <li class=\"modal__track-link-col\">link</li>\n    `;\n    wrapper.appendChild(headerList);\n\n    // –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫—ñ–≤\n    tracks.forEach(track => {\n      const trackList = document.createElement('ul');\n      trackList.className = 'modal__track-item';\n\n      const name = document.createElement('li');\n      name.className = 'modal__track-name';\n      name.textContent = track.strTrack || '';\n\n      const time = document.createElement('li');\n      time.className = 'modal__track-time';\n      time.textContent = track.intDuration\n        ? formatDuration(track.intDuration)\n        : '';\n\n      const link = document.createElement('li');\n      link.className = 'modal__track-link';\n\n      if (track.movie) {\n        const a = document.createElement('a');\n        a.href = track.movie;\n        a.target = '_blank';\n        a.rel = 'noopener noreferrer';\n        a.innerHTML = `\n        <svg width=\"16\" height=\"16\">\n          <use href=\"./img/icons.svg#icon-youtube\"></use>\n        </svg>`;\n        link.appendChild(a);\n      }\n\n      trackList.append(name, time, link);\n      wrapper.appendChild(trackList);\n    });\n\n    albumItem.appendChild(wrapper);\n    ul.appendChild(albumItem);\n  }\n\n  albumsContainer.appendChild(ul);\n}\n\nexport function renderArtistDetails(data) {\n  const { name, thumb, years, gender, members, country, bio } = domRefs.artist;\n\n  name.textContent = data.strArtist ?? 'No name';\n  thumb.src =\n    data.strArtistThumb || 'https://via.placeholder.com/200x200?text=No+Image';\n  thumb.alt = `Artist photo ${data.strArtist ?? ''}`;\n  bio.textContent = data.strBiographyEN ?? 'No description';\n\n  years.textContent = data.intFormedYear\n    ? `${data.intFormedYear} - ${data.intDiedYear || 'present'}`\n    : 'No data';\n  gender.textContent = data.strGender || 'No data';\n  members.textContent = data.intMembers || 'No data';\n  country.textContent = data.strCountry || 'No data';\n}\n\nexport function renderArtistGenres(container, genres) {\n  if (!(container instanceof HTMLElement)) {\n    console.error('container not DOM-element:', container);\n    return;\n  }\n\n  container.innerHTML = '';\n\n  if (genres && genres.length > 0) {\n    genres.forEach(genreKey => {\n      const genreEl = document.createElement('span');\n      genreEl.classList.add('modal__genres-item');\n      genreEl.textContent = genreKey;\n      container.appendChild(genreEl);\n    });\n  } else {\n    const noGenresEl = document.createElement('span');\n    noGenresEl.classList.add('modal__genres-item');\n    noGenresEl.textContent = 'Genres not available';\n    container.appendChild(noGenresEl);\n  }\n}\n","import { domRefs } from \"./modalElements.js\";\n\nfunction showArtistLoader() {\n  if (!domRefs.artistDataLoader || !domRefs.artistCardSection) {\n    console.error(\"DOM references for loader are not found!\");\n    return;\n  }\n  document\n    .querySelector(\"#globalLoader\")\n    .classList.remove(\"global-loader--hidden\");\n  domRefs.artistDataLoader.classList.remove(\"artist-loader--hidden\");\n  domRefs.artistDataLoader.classList.add(\"artist-loader--visible\");\n  domRefs.artistCardSection.classList.add(\"hidden\");\n}\n\nfunction hideArtistLoader() {\n  if (!domRefs.artistDataLoader || !domRefs.artistCardSection) {\n    console.error(\"DOM references for loader are not found!\");\n    return;\n  }\n  document\n    .querySelector(\"#globalLoader\")\n    .classList.add(\"global-loader--hidden\");\n  domRefs.artistDataLoader.classList.remove(\"artist-loader--visible\");\n  domRefs.artistDataLoader.classList.add(\"artist-loader--hidden\");\n  domRefs.artistCardSection.classList.remove(\"hidden\");\n}\n\nexport default {\n  showArtistLoader,\n  hideArtistLoader,\n};\n","import { domRefs } from './artistModal/modalElements.js';\nimport {\n  closeArtistModal,\n  initModalCloseHandlers,\n  handleModalEscapeKey,\n} from './artistModal/modalHandlers.js';\nimport { getArtistDetails } from './artistModal/artistApi.js';\nimport {\n  renderArtistDetails,\n  renderArtistAlbums,\n  renderArtistGenres,\n} from './artistModal/render.js';\nimport loader from './artistModal/loader.js';\n\nlet loaderTimerId = null;\n// –∑–∞—Ç—Ä–∏–º–∫a\nconst LOADER_DELAY_MS = 300;\n\nexport async function openArtistModal(artistId) {\n  try {\n    loader.showArtistLoader();\n\n    const artistData = await getArtistDetails(artistId);\n    const genres = artistData.genres || [];\n\n    resetModalContent();\n    renderArtistDetails(artistData);\n    renderArtistAlbums(artistData.tracksList, artistData.strArtist);\n    renderArtistGenres(domRefs.artist.genres, genres);\n\n    loader.hideArtistLoader();\n\n    domRefs.modal.classList.remove('modal--hidden');\n    document.body.style.overflow = 'hidden';\n    document.documentElement.style.overflow = 'hidden';\n\n    document.addEventListener('keydown', handleModalEscapeKey);\n  } catch (error) {\n    console.error('Error to load artist data:', error.message, error);\n    loader.hideArtistLoader();\n    alert('Artist data not found');\n    closeArtistModal();\n  }\n}\n\n// –∑–∞—á–∏—Å—Ç–∫–∞\nfunction resetModalContent() {\n  if (domRefs.albums.container) domRefs.albums.container.innerHTML = '';\n  if (domRefs.artist.genres) domRefs.artist.genres.innerHTML = '';\n}\ninitModalCloseHandlers();\n","import axios from 'axios';\nimport { openArtistModal } from './artist-details-modal';\n\nasync function fetchArtists(page = 1) {\n  try {\n    const response = await axios.get(\n      `https://sound-wave.b.goit.study/api/artists?limit=8&page=${page}`\n    );\n    return response.data.artists;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nconst artistsList = document.querySelector('.artists__list');\n\nlet currentPage = 0;\n\nrenderArtists();\n\nasync function renderArtists() {\n  const artists = await fetchArtists();\n  const markup = generateArtistsMarkup(artists);\n  artistsList.innerHTML = markup;\n  currentPage = 1;\n}\n\n// –ö–Ω–æ–ø–∫–∞ loadMore\nconst loadMoreBtn = document.querySelector('.artists__load-more-btn');\nloadMoreBtn.addEventListener('click', loadMoreArtists);\nasync function loadMoreArtists() {\n  try {\n    toggleLoader(true);\n    loadMoreBtn.style.display = 'none';\n    currentPage += 1;\n    const artists = await fetchArtists(currentPage);\n    if (artists.length === 0) {\n      loadMoreBtn.style.display = 'none';\n    }\n\n    const markup = generateArtistsMarkup(artists);\n    const beforeCount = artistsList.children.length;\n    artistsList.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    toggleLoader(false);\n    loadMoreBtn.style.display = 'flex';\n  }\n}\n\nfunction truncateText(text, maxLength) {\n  // —è–∫—â–æ text undefined, —Ä–æ–∑–≤–µ—Ä—Ç–∞—î–º–æ...\n  if (typeof text !== 'string') {\n    return '';\n  }\n  // —Ä—ñ–∑–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 768) {\n    maxLength = 60;\n  } else if (screenWidth < 1440) {\n    maxLength = 160;\n  } else {\n    maxLength = 144;\n  }\n\n  if (text.length > maxLength) {\n    return text.slice(0, maxLength) + '...';\n  }\n  return text;\n}\nfunction sanitizeText(text) {\n  return text.replace(/[,/]/g, ' ');\n}\n\n// —Ä–æ–∑–º—ñ—Ç–∫–∞\nfunction generateArtistsMarkup(arr) {\n  return (\n    arr\n      .map(\n        ({ _id, genres, strArtist, strArtistThumb, strBiographyEN }) =>\n          `\n      <li class=\"artists__card\">\n\n        <img class=\"artists__card-image\" src=\"${strArtistThumb}\" alt=\"${strArtist}\"/>\n\n        <ul class=\"artists__card-genres\">\n        ${genres\n          .map(\n            genre =>\n              `<li class=\"artists__card-genre\">${sanitizeText(genre)}</li>`\n          )\n          .join('')}\n        </ul>\n        <p class=\"artists__card-name\">${strArtist}</p>\n        <p class=\"artists__card-description\">${truncateText(strBiographyEN, 144)}</p>\n       <button class=\"artists__card-btn open-artist-modal\" data-artist-id=\"${_id}\">\n       Learn More\n        <svg class=\"artists__card-btn-icon\" width=\"24\" height=\"24\" >\n        <use href=\"img/icons.svg#icon-caret-right\"></use>\n        </svg>\n       </button>\n     </li>\n      `\n      )\n      .join('') || ''\n  );\n}\n\n// –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–∫–∏\nartistsList.addEventListener('click', handleArtistCardClick);\nfunction handleArtistCardClick(event) {\n  const targetButton = event.target.closest('.open-artist-modal');\n\n  if (targetButton) {\n    // –ê–π-–¥—ñ –∞—Ä—Ç–∏—Å—Ç–∞\n    const artistId = targetButton.dataset.artistId;\n    if (artistId) {\n      openArtistModal(artistId);\n    } else {\n      console.error('Artist ID not found üò±.');\n    }\n  }\n}\n\n// LOADER –í–ö–õ–Æ–ß–ò–¢–ò/–í–ò–ö–õ–Æ–ß–ò–¢–ò\nconst loader = document.querySelector('.loader');\nfunction toggleLoader(show) {\n  if (show) {\n    loader.style.display = 'inline-block';\n  } else {\n    loader.style.display = 'none';\n  }\n}\n","import axios from 'axios'\n\nexport const url = 'https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1';\n\nexport async function getData(url) {\n    try{\n const response = await axios.get(url);\n return response.data;\n    }catch(error){\nconsole.log(error)}}\n","\n\nexport function createMarkup(markupList){\nconst markup = markupList.map((list) =>{\nreturn `<li class=\"swiper-slide item-feedback\">\n  <div class=\"stars-rating-feedback\">${list.rating}</div>\n<p class=\"text-feedback\">${list.descr}</p>\n<p class=\"text-name-feedback\">${list.name}</p>\n</li>`\n}).join('');\n\nconst list = document.getElementById('card-list-feedback');\n\nlist.insertAdjacentHTML('beforeend', markup);\n}\n","\nimport {getData, url} from './feedback-api.js';\nimport {createMarkup} from './feedback-markup.js'\n\ngetData(url).then(response => {    \n    const reviews = response.data;\n\nif(reviews && reviews.length > 0){\n createMarkup(reviews)\n}}).catch(error => console.log(error));\n\n\n","function initRating() {\n  const rating = document.querySelector('.rating');\n  if (!rating) return;\n\n  const stars = rating.querySelectorAll('.rating-star');\n  const input = document.querySelector('#rating-input');\n\n  if (!stars.length || !input) return;\n\n  if (rating.dataset.initialized === 'true') return;\n  rating.dataset.initialized = 'true';\n\n  stars.forEach(star => {\n    star.addEventListener('click', () => {\n      const value = Number(star.dataset.value);\n\n      input.value = value;\n\n      stars.forEach(s => {\n        const v = Number(s.dataset.value);\n        s.classList.toggle('active', v <= value);\n      });\n    });\n  });\n}\n\nfunction showError(input, message) {\n  input.classList.add('feedback-error');\n\n  let errorEl = input.parentElement.querySelector('.feedback-error-text');\n  if (!errorEl) {\n    errorEl = document.createElement('div');\n    errorEl.className = 'feedback-error-text';\n    input.parentElement.appendChild(errorEl);\n  }\n\n  errorEl.textContent = message;\n}\n\nfunction clearError(input) {\n  input.classList.remove('feedback-error');\n\n  const errorEl = input.parentElement.querySelector('.feedback-error-text');\n  if (errorEl) errorEl.remove();\n}\n// -------------------------------------------------------------------------------------\n\nfunction initFeedbackForm() {\n  const form = document.querySelector('.js-feedback-form');\n  if (!form) return;\n\n  const nameInput = form.querySelector('input[name=\"name\"]');\n  const messageInput = form.querySelector('textarea[name=\"message\"]');\n  const ratingInput = form.querySelector('#rating-input');\n  const ratingBlock = form.querySelector('.rating');\n\n  const submitText = form.querySelector('.js-submit-text');\n  const submitLoader = form.querySelector('.js-submit-loader');\n\n  form.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const name = nameInput.value.trim();\n    const descr = messageInput.value.trim();\n    const rating = Number(ratingInput.value);\n\n    clearError(nameInput);\n    clearError(messageInput);\n    clearError(ratingBlock);\n\n    let hasError = false;\n\n    if (name.length < 2 || name.length > 16) {\n      showError(nameInput, 'Name must be 2‚Äì16 characters');\n      hasError = true;\n    }\n\n    if (descr.length < 10 || descr.length > 512) {\n      showError(messageInput, 'Message must be 10‚Äì512 characters');\n      hasError = true;\n    }\n\n    if (rating < 1 || rating > 5) {\n      showError(ratingBlock, 'Please select a rating');\n      hasError = true;\n    }\n\n    if (hasError) return;\n\n    const payload = { name, rating, descr };\n\n    submitText.hidden = true;\n    submitLoader.hidden = false;\n\n    try {\n      const response = await fetch(\n        'https://sound-wave.b.goit.study/api/feedbacks',\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            accept: 'application/json',\n          },\n          body: JSON.stringify(payload),\n        }\n      );\n\n      if (!response.ok) return;\n\n      const data = await response.json();\n\n      form.reset();\n      ratingInput.value = 0;\n      document\n        .querySelectorAll('.rating-star')\n        .forEach(star => star.classList.remove('active'));\n\n      if (window.feedbackModal?.close) {\n        window.feedbackModal.close();\n      }\n    } catch (error) {\n      console.log('‚ùå Network error:', error);\n    } finally {\n      submitText.hidden = false;\n      submitLoader.hidden = true;\n    }\n  });\n}\n\nfunction lockScroll() {\n  document.body.classList.add('body-no-scroll');\n}\n\nfunction unlockScroll() {\n  document.body.classList.remove('body-no-scroll');\n}\n\nfunction initFeedbackModal() {\n  const backdrop = document.querySelector('.js-feedback-backdrop');\n  const modal = document.querySelector('.feedback-modal');\n  const closeBtn = document.querySelector('.js-feedback-close');\n\n  if (!backdrop || !modal || !closeBtn) return;\n\n  function openModal() {\n    backdrop.hidden = false;\n    lockScroll();\n  }\n\n  function closeModal() {\n    backdrop.hidden = true;\n    unlockScroll();\n  }\n\n  closeBtn.addEventListener('click', closeModal);\n\n  backdrop.addEventListener('click', event => {\n    if (event.target === backdrop) {\n      closeModal();\n    }\n  });\n\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      closeModal();\n    }\n  });\n\n  window.feedbackModal = {\n    open: openModal,\n    close: closeModal,\n  };\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initFeedbackModal();\n  initRating();\n  initFeedbackForm();\n});\n"],"names":["openBtn","closeBtn","menu","links","closeMenu","link","domRefs","closeArtistModal","handleModalEscapeKey","initModalCloseHandlers","closeButton","overlay","event","getArtistDetails","artistId","artistRes","allArtistsRes","axios","artistData","allArtists","fullArtistData","artist","formatDuration","ms","totalSeconds","minutes","seconds","organizeTracksByAlbum","tracks","artistName","map","track","album","renderArtistAlbums","tracksList","albumsContainer","albumsMap","ul","albumName","albumItem","title","wrapper","headerList","trackList","name","time","a","renderArtistDetails","data","thumb","years","gender","members","country","bio","renderArtistGenres","container","genres","genreKey","genreEl","noGenresEl","showArtistLoader","hideArtistLoader","loader$1","openArtistModal","loader","resetModalContent","error","fetchArtists","page","artistsList","currentPage","renderArtists","artists","markup","generateArtistsMarkup","loadMoreBtn","loadMoreArtists","toggleLoader","beforeCount","truncateText","text","maxLength","screenWidth","sanitizeText","arr","_id","strArtist","strArtistThumb","strBiographyEN","genre","handleArtistCardClick","targetButton","show","url","getData","createMarkup","markupList","list","response","reviews","initRating","rating","stars","input","star","value","v","showError","message","errorEl","clearError","initFeedbackForm","form","nameInput","messageInput","ratingInput","ratingBlock","submitText","submitLoader","descr","hasError","payload","_a","lockScroll","unlockScroll","initFeedbackModal","backdrop","modal","openModal","closeModal"],"mappings":"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"}