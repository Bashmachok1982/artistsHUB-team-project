{"version":3,"file":"index.js","sources":["../src/js/artists-loader.js","../src/js/artist-details-modal.js","../src/js/artists.js","../src/js/feedback-api.js","../src/js/feedback-markup.js","../src/js/feedback.js","../src/js/feedback-modal.js"],"sourcesContent":["//  DMYTRO SERHIIENKO\n\nexport function showLoader() {\n  const loader = document.createElement('div');\n  loader.classList.add('artist-loader');\n  loader.innerHTML = `\n    <div class=\"artist-loader-spinner\"></div>\n  `;\n  loader.setAttribute('data-loader', '');\n  document.body.appendChild(loader);\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('[data-loader]');\n  if (loader) {\n    loader.remove();\n  }\n}\n//  DMYTRO SERHIIENKO\n","/* DMYTRO SERHIIENKO  */\nimport axios from 'axios';\nimport { showLoader, hideLoader } from './artists-loader.js';\n\nconst API_BASE_URL = 'https://sound-wave.b.goit.study/api';\n\nconst refs = {\n  backdrop: document.querySelector('[data-artist-modal]'),\n  closeBtn: null,\n  content: null,\n};\n\nlet currentEventListeners = [];\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  refs.closeBtn = document.querySelector('[data-artist-modal-close]');\n  refs.content = document.querySelector('.artist-modal-content');\n\n  if (refs.closeBtn) {\n    refs.closeBtn.addEventListener('click', closeModal);\n  }\n\n  if (refs.backdrop) {\n    refs.backdrop.addEventListener('click', onBackdropClick);\n  }\n});\n\nexport function openArtistModal(artistId) {\n  showLoader();\n  refs.backdrop.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n\n  fetchArtistDetails(artistId);\n  document.addEventListener('keydown', onEscapeKey);\n}\n\nfunction closeModal() {\n  refs.backdrop.classList.add('is-hidden');\n  document.body.style.overflow = '';\n\n  removeAllEventListeners();\n  document.removeEventListener('keydown', onEscapeKey);\n\n  if (refs.content) {\n    refs.content.innerHTML = '';\n  }\n}\n\nfunction onBackdropClick(event) {\n  if (event.target === refs.backdrop) {\n    closeModal();\n  }\n}\n\nfunction onEscapeKey(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction removeAllEventListeners() {\n  currentEventListeners.forEach(({ element, event, handler }) => {\n    element.removeEventListener(event, handler);\n  });\n  currentEventListeners = [];\n}\n\nfunction addTrackedEventListener(element, event, handler) {\n  element.addEventListener(event, handler);\n  currentEventListeners.push({ element, event, handler });\n}\n\nasync function fetchArtistDetails(artistId) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}/artists/${artistId}/albums`\n    );\n    const data = response.data;\n    renderArtistDetails(data);\n    hideLoader();\n  } catch (error) {\n    console.error('Error fetching artist details:', error);\n    hideLoader();\n    showError();\n  }\n}\n\nfunction formatYearsActive(lifeSpan) {\n  if (!lifeSpan) return 'Information missing';\n\n  const begin = lifeSpan.begin;\n  const end = lifeSpan.end;\n\n  if (!begin && !end) {\n    return 'Information missing';\n  }\n\n  if (begin && !end) {\n    const beginYear =\n      typeof begin === 'number' ? begin : new Date(begin).getFullYear();\n    return `${beginYear}-present`;\n  }\n\n  if (begin && end) {\n    const beginYear =\n      typeof begin === 'number' ? begin : new Date(begin).getFullYear();\n    const endYear = typeof end === 'number' ? end : new Date(end).getFullYear();\n    return `${beginYear}-${endYear}`;\n  }\n\n  return 'Information missing';\n}\n\nfunction formatDuration(duration) {\n  if (!duration) return '--';\n\n  if (typeof duration === 'string' && duration.includes(':')) {\n    return duration;\n  }\n\n  const durationNum =\n    typeof duration === 'string' ? parseInt(duration, 10) : duration;\n\n  const totalSeconds =\n    durationNum > 10000 ? Math.floor(durationNum / 1000) : durationNum;\n\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n}\n\nfunction getYouTubeUrl(track) {\n  if (track.youtubeUrl) {\n    return track.youtubeUrl;\n  }\n\n  const artistName = track.artistName || '';\n  const trackTitle = track.title || track.strTrack || '';\n\n  if (trackTitle) {\n    const searchQuery = encodeURIComponent(\n      `${artistName} ${trackTitle}`.trim()\n    );\n    return `https://www.youtube.com/results?search_query=${searchQuery}`;\n  }\n\n  return null;\n}\n\nfunction escapeHtml(text) {\n  const div = document.createElement('div');\n  div.textContent = text;\n  return div.innerHTML;\n}\n\nfunction renderArtistDetails(data) {\n  const name = data.strArtist || data.name || 'Unknown Artist';\n  const image = data.strArtistThumb || data.image || '';\n  const country = data.strCountry || data.country || 'Unknown';\n  const biography =\n    data.strBiographyEN ||\n    data.biography ||\n    data.bio ||\n    'No biography available.';\n  const gender = data.strGender || data.gender;\n  const members = data.intMembers || data.members;\n\n  const lifeSpan = {\n    begin: data.intBornYear || data.intFormedYear || data.bornYear || null,\n    end: data.intDiedYear || data.endYear || null,\n  };\n\n  let genres = [];\n  if (data.genres && Array.isArray(data.genres)) {\n    genres = data.genres;\n  } else if (data.strGenre) {\n    genres = [data.strGenre];\n  }\n\n  const albums = data.albumsList || data.albums || [];\n\n  // Формуємо HTML для окремих блоків\n  let membersHtml = '';\n  if (members && members !== '0' && members > 0) {\n    membersHtml = `\n      <div class=\"artist-info-item\">\n         <span class=\"artist-info-label\">Members</span>\n         <span class=\"artist-info-value\">${members}</span>\n      </div>`;\n  }\n\n  let genderHtml = '';\n  if (gender) {\n    genderHtml = `\n      <div class=\"artist-info-item\">\n         <span class=\"artist-info-label\">Sex</span>\n         <span class=\"artist-info-value\">${gender}</span>\n      </div>`;\n  }\n\n  let imageHtml = image \n    ? `<img src=\"${image}\" alt=\"${name}\" class=\"artist-image\" />`\n    : '<div class=\"artist-image-placeholder\">No Image</div>';\n\n //--------------------\n  let html = `\n  <h2 class=\"artist-name\">${name}</h2>\n  \n  <div class=\"artist-header\">\n      ${imageHtml}\n      \n      <div class=\"artist-main-content\">\n        <div class=\"artist-info\">\n          <div class=\"artist-info-item\">\n            <span class=\"artist-info-label\">Years active</span>\n            <span class=\"artist-info-value\">${formatYearsActive(lifeSpan)}</span>\n          </div>\n          ${genderHtml}\n          ${membersHtml}\n          <div class=\"artist-info-item\">\n            <span class=\"artist-info-label\">Country</span>\n            <span class=\"artist-info-value\">${country}</span>\n          </div>\n        </div>\n\n        <div class=\"artist-biography\">\n          <h3 class=\"artist-section-title__bio\">Biography</h3>\n          <p class=\"artist-biography-text\">${biography}</p>\n        </div>\n\n        ${genres.length > 0 ? `\n          <div class=\"artist-genres\">\n            ${genres.map(genre => `<span class=\"genre-tag__modal\">${genre}</span>`).join('')}\n          </div>\n        ` : ''}\n      </div>\n    </div>\n\n    ${albums.length > 0 ? `\n      <h3 class=\"artist-section-title__alb\">Albums</h3>\n      <div class=\"artist-albums\">\n        ${renderAlbums(albums)}\n      </div>\n    ` : ''}\n  `;\n\n  refs.content.innerHTML = html;\n}\nfunction renderAlbums(albums) {\n  return albums\n    .map(album => {\n      const albumTitle = album.title || album.strAlbum || 'Unknown Album';\n      const tracks = album.tracks || [];\n\n      let tracksHtml = '';\n      if (tracks && tracks.length > 0) {\n        tracksHtml = renderTracks(tracks);\n      } else {\n        tracksHtml = '<p class=\"no-tracks\">No tracks available</p>';\n      }\n\n      return `\n    <div class=\"album-item\">\n      <h4 class=\"album-title\">${albumTitle}</h4>\n      ${tracksHtml}\n    </div>\n  `;\n    })\n    .join('');\n}\n\nfunction renderTracks(tracks) {\n  return `\n    <div class=\"tracks-table\">\n      <div class=\"tracks-header\">\n        <span class=\"track-header-name\">Track</span>\n        <span class=\"track-header-time\">Time</span>\n        <span class=\"track-header-action\">Link</span>\n      </div>\n      <div class=\"tracks-list\">\n        ${tracks\n          .map((track, index) => {\n            const trackTitle = track.title || track.strTrack || 'Unknown Track';\n            const duration =\n              track.length || track.intDuration || track.strDuration;\n            const youtubeUrl =\n              track.strMusicVid || track.youtubeUrl || getYouTubeUrl(track);\n\n            let youtubeLinkHtml = '';\n            if (youtubeUrl) {\n              youtubeLinkHtml = `\n                <a href=\"${youtubeUrl}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"track-youtube-link\">\n                  <svg width=\"20\" height=\"20\">\n                    <use href=\"${import.meta.env.BASE_URL}img/icons.svg#icon-youtube\"></use>\n                  </svg>\n                </a>\n              `;\n            } else {\n              youtubeLinkHtml = '<span class=\"track-no-link\"></span>';\n            }\n\n            return `\n            <div class=\"track-item\" data-track-index=\"${index}\">\n              <span class=\"track-name\">${escapeHtml(trackTitle)}</span>\n              <span class=\"track-time\">${formatDuration(duration)}</span>\n              ${youtubeLinkHtml}\n            </div>\n          `;\n          })\n          .join('')}\n      </div>\n    </div>\n  `;\n}\n\nfunction showError() {\n  refs.content.innerHTML = `\n    <div class=\"artist-error\">\n      <p>Failed to load artist details. Please try again later.</p>\n    </div>\n  `;\n}\n\n/* DMYTRO SERHIIENKO  */\n","/* DMYTRO SERHIIENKO  */\n\nimport axios from 'axios';\nimport { openArtistModal } from './artist-details-modal.js';\nimport { showLoader, hideLoader } from './artists-loader.js';\n\nconst refs = {\n  artistsList: document.querySelector('#artists-list'),\n  loadMoreBtn: document.querySelector('#load-more'),\n};\n\nconst { artistsList, loadMoreBtn } = refs;\n\nconst BASE_URL = 'https://sound-wave.b.goit.study/api/artists';\nlet allArtists = [];\nlet displayedCount = 0;\nconst STEP = 8;\n\nasync function initArtists() {\n  try {\n    loadMoreBtn.style.display = 'none';\n    showLoader();\n    const response = await axios.get(BASE_URL, {\n      params: { limit: 20 },\n    });\n    const data = response.data;\n\n    allArtists = Array.isArray(data)\n      ? data\n      : data.results || data.data || data.artists || [];\n\n    loadMore();\n    hideLoader();\n  } catch (error) {\n    console.error(`Error fetching artists: ${error.message}`);\n    hideLoader();\n    showErrorMessage();\n  }\n}\n\nfunction showErrorMessage() {\n  artistsList.innerHTML =\n    '<p style=\"color: white; text-align: center;\">Не вдалося завантажити артистів❗️</p>';\n}\n\nfunction loadMore() {\n  const nextBatch = allArtists.slice(displayedCount, displayedCount + STEP);\n  renderArtists(nextBatch);\n  displayedCount += nextBatch.length;\n\n  if (displayedCount >= allArtists.length) {\n    loadMoreBtn.style.display = 'none';\n  } else {\n    loadMoreBtn.style.display = 'block';\n  }\n}\n\nfunction renderGenres(artist) {\n  if (artist.genres && artist.genres.length > 0) {\n    return artist.genres\n      .map(genre => `<span class=\"genre-tag\">${genre}</span>`)\n      .join('');\n  }\n  return `<span class=\"genre-tag\">${artist.strGenre || 'Music'}</span>`;\n}\n\nfunction getArtistBio(artist) {\n  return artist.strBiographyEN || artist.bio || 'No biography available';\n}\n\nfunction getArtistId(artist) {\n  return artist._id || artist.idArtist;\n}\n\nfunction renderArtists(artists) {\n  const markup = artists\n    .map(\n      artist => `\n      <li class=\"artist-card\" data-id=\"${getArtistId(artist)}\">\n        <img src=\"${artist.strArtistThumb}\" alt=\"${artist.strArtist}\" class=\"artist-card__photo\" loading=\"lazy\">\n        <div class=\"artist-card__genres\">${renderGenres(artist)}</div>\n        <h3 class=\"artist-card__name\">${artist.strArtist}</h3>\n        <p class=\"artist-card__bio\">${getArtistBio(artist)}</p>\n        <button type=\"button\" class=\"artist-card__link js-learn-more\">\n          Learn More \n          <svg class=\"icon-learn-more\" width=\"16\" height=\"16\">\n            <use href=\"${import.meta.env.BASE_URL}img/icons.svg#icon-caret-right\"></use>\n          </svg>\n        </button>\n      </li>\n    `\n    )\n    .join('');\n  artistsList.insertAdjacentHTML('beforeend', markup);\n}\n\nloadMoreBtn.addEventListener('click', loadMore);\n\nartistsList.addEventListener('click', event => {\n  const learnMoreBtn = event.target.closest('.js-learn-more');\n  if (learnMoreBtn) {\n    const card = event.target.closest('.artist-card');\n    openArtistModal(card.dataset.id);\n  }\n});\n\ninitArtists();\n\n/* DMYTRO SERHIIENKO  */\n","import axios from 'axios'\n\nexport const url = 'https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1';\n\nexport async function getData(url) {\n    try{\n const response = await axios.get(url);\n return response.data;\n    }catch(error){\nconsole.log(error)}}\n","\n\nexport function createMarkup(markupList){\nconst markup = markupList.map((list) =>{\nreturn `<li class=\"swiper-slide item-feedback\">\n  <div class=\"stars-rating-feedback\">${list.rating}</div>\n<p class=\"text-feedback\">${list.descr}</p>\n<p class=\"text-name-feedback\">${list.name}</p>\n</li>`\n}).join('');\n\nconst list = document.getElementById('card-list-feedback');\n\nlist.insertAdjacentHTML('beforeend', markup);\n}\n","\nimport {getData, url} from './feedback-api.js';\nimport {createMarkup} from './feedback-markup.js'\n\ngetData(url).then(response => {    \n    const reviews = response.data;\n\nif(reviews && reviews.length > 0){\n createMarkup(reviews)\n}}).catch(error => console.log(error));\n\n\n","function initRating() {\n  const rating = document.querySelector('.rating');\n  if (!rating) return;\n\n  const stars = rating.querySelectorAll('.rating-star');\n  const input = document.querySelector('#rating-input');\n\n  if (!stars.length || !input) return;\n\n  if (rating.dataset.initialized === 'true') return;\n  rating.dataset.initialized = 'true';\n\n  stars.forEach(star => {\n    star.addEventListener('click', () => {\n      const value = Number(star.dataset.value);\n\n      input.value = value;\n\n      stars.forEach(s => {\n        const v = Number(s.dataset.value);\n        s.classList.toggle('active', v <= value);\n      });\n    });\n  });\n}\n\nfunction showError(input, message) {\n  input.classList.add('feedback-error');\n\n  let errorEl = input.parentElement.querySelector('.feedback-error-text');\n  if (!errorEl) {\n    errorEl = document.createElement('div');\n    errorEl.className = 'feedback-error-text';\n    input.parentElement.appendChild(errorEl);\n  }\n\n  errorEl.textContent = message;\n}\n\nfunction clearError(input) {\n  input.classList.remove('feedback-error');\n\n  const errorEl = input.parentElement.querySelector('.feedback-error-text');\n  if (errorEl) errorEl.remove();\n}\n// -------------------------------------------------------------------------------------\n\nfunction initFeedbackForm() {\n  const form = document.querySelector('.js-feedback-form');\n  if (!form) return;\n\n  const nameInput = form.querySelector('input[name=\"name\"]');\n  const messageInput = form.querySelector('textarea[name=\"message\"]');\n  const ratingInput = form.querySelector('#rating-input');\n  const ratingBlock = form.querySelector('.rating');\n\n  const submitText = form.querySelector('.js-submit-text');\n  const submitLoader = form.querySelector('.js-submit-loader');\n\n  form.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const name = nameInput.value.trim();\n    const descr = messageInput.value.trim();\n    const rating = Number(ratingInput.value);\n\n    clearError(nameInput);\n    clearError(messageInput);\n    clearError(ratingBlock);\n\n    let hasError = false;\n\n    if (name.length < 2 || name.length > 16) {\n      showError(nameInput, 'Name must be 2–16 characters');\n      hasError = true;\n    }\n\n    if (descr.length < 10 || descr.length > 512) {\n      showError(messageInput, 'Message must be 10–512 characters');\n      hasError = true;\n    }\n\n    if (rating < 1 || rating > 5) {\n      showError(ratingBlock, 'Please select a rating');\n      hasError = true;\n    }\n\n    if (hasError) return;\n\n    const payload = { name, rating, descr };\n\n    submitText.hidden = true;\n    submitLoader.hidden = false;\n\n    try {\n      const response = await fetch(\n        'https://sound-wave.b.goit.study/api/feedbacks',\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            accept: 'application/json',\n          },\n          body: JSON.stringify(payload),\n        }\n      );\n\n      if (!response.ok) return;\n\n      const data = await response.json();\n\n      form.reset();\n      ratingInput.value = 0;\n      document\n        .querySelectorAll('.rating-star')\n        .forEach(star => star.classList.remove('active'));\n\n      if (window.feedbackModal?.close) {\n        window.feedbackModal.close();\n      }\n    } catch (error) {\n      console.log('❌ Network error:', error);\n    } finally {\n      submitText.hidden = false;\n      submitLoader.hidden = true;\n    }\n  });\n}\n\nfunction lockScroll() {\n  document.body.classList.add('body-no-scroll');\n}\n\nfunction unlockScroll() {\n  document.body.classList.remove('body-no-scroll');\n}\n\nfunction initFeedbackModal() {\n  const backdrop = document.querySelector('.js-feedback-backdrop');\n  const modal = document.querySelector('.feedback-modal');\n  const closeBtn = document.querySelector('.js-feedback-close');\n\n  if (!backdrop || !modal || !closeBtn) return;\n\n  function openModal() {\n    backdrop.hidden = false;\n    lockScroll();\n  }\n\n  function closeModal() {\n    backdrop.hidden = true;\n    unlockScroll();\n  }\n\n  closeBtn.addEventListener('click', closeModal);\n\n  backdrop.addEventListener('click', event => {\n    if (event.target === backdrop) {\n      closeModal();\n    }\n  });\n\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      closeModal();\n    }\n  });\n\n  window.feedbackModal = {\n    open: openModal,\n    close: closeModal,\n  };\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initFeedbackModal();\n  initRating();\n  initFeedbackForm();\n});\n"],"names":["showLoader","loader","hideLoader","API_BASE_URL","refs","currentEventListeners","closeModal","onBackdropClick","openArtistModal","artistId","fetchArtistDetails","onEscapeKey","removeAllEventListeners","event","element","handler","data","axios","renderArtistDetails","error","showError","formatYearsActive","lifeSpan","begin","end","beginYear","endYear","formatDuration","duration","durationNum","totalSeconds","minutes","seconds","getYouTubeUrl","track","artistName","trackTitle","escapeHtml","text","div","name","image","country","biography","gender","members","genres","albums","membersHtml","genderHtml","imageHtml","html","genre","renderAlbums","album","albumTitle","tracks","tracksHtml","renderTracks","index","youtubeUrl","youtubeLinkHtml","artistsList","loadMoreBtn","BASE_URL","allArtists","displayedCount","STEP","initArtists","loadMore","showErrorMessage","nextBatch","renderArtists","renderGenres","artist","getArtistBio","getArtistId","artists","markup","card","url","getData","createMarkup","markupList","list","response","reviews","initRating","rating","stars","input","star","value","s","v","message","errorEl","clearError","initFeedbackForm","form","nameInput","messageInput","ratingInput","ratingBlock","submitText","submitLoader","descr","hasError","payload","_a","lockScroll","unlockScroll","initFeedbackModal","backdrop","modal","closeBtn","openModal"],"mappings":"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"}