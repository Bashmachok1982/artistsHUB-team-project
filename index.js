import{a as w,S as N,N as $,P as T,j as A}from"./assets/vendor-BTm5DXRj.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".mob-menu-btn"),t=document.querySelector(".menu-close-btn"),r=document.querySelector("#mobileMenu"),n=document.body;e==null||e.addEventListener("click",()=>{r.classList.add("is-open"),n.classList.add("menu-open")}),t==null||t.addEventListener("click",s),r==null||r.addEventListener("click",o=>{o.target===r&&s()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&r.classList.contains("is-open")&&s()}),document.querySelectorAll(".mobile-link").forEach(o=>{o.addEventListener("click",s)});function s(){r.classList.remove("is-open"),n.classList.remove("menu-open")}window.addEventListener("scroll",()=>{window.scrollY>50?document.querySelector(".header").classList.add("scrolled"):document.querySelector(".header").classList.remove("scrolled")})});const a={modal:document.querySelector(".modal"),artistDataLoader:document.getElementById("artistDataLoader"),artistDataSpinner:document.querySelector("#artistDataLoader .artist-loader__spinner"),artist:{name:document.querySelector(".modal__artist-name"),thumb:document.querySelector(".modal__artist-thumb"),years:document.querySelector(".modal__artist-years"),gender:document.querySelector(".modal__artist-gender"),members:document.querySelector(".modal__artist-members"),country:document.querySelector(".modal__artist-country"),bio:document.querySelector(".modal__artist-bio"),genres:document.querySelector(".modal__artist-genres")},albums:{container:document.querySelector(".modal__albums-container")},artistCardSection:document.querySelector(".modal__artist")};function p(){a.modal.classList.add("modal--hidden"),document.body.classList.remove("no-scroll"),document.body.style.overflow="",document.documentElement.style.overflow="",document.removeEventListener("keydown",C)}function x(){const e=document.querySelector(".modal__close-btn"),t=document.querySelector(".modal");e&&e.addEventListener("click",p),t&&t.addEventListener("click",r=>{r.target===t&&p()})}function C(e){e.key==="Escape"&&!a.modal.classList.contains("modal--hidden")&&p()}async function H(e){if(!e)throw new Error("Artist ID is required");const[t,r]=await Promise.all([w.get(`https://sound-wave.b.goit.study/api/artists/${e}`),w.get("https://sound-wave.b.goit.study/api/artists")]),n=t.data,s=r.data.artists||[];if(!(n!=null&&n.strArtist))throw new Error("No artist data");const o=s.find(i=>i._id===e);return o?o.genres&&(n.genres=o.genres):console.warn("Artist not found â—ï¸:",e),n}function j(e){const t=Math.floor(e/1e3),r=Math.floor(t/60),n=t%60;return`${r}:${n.toString().padStart(2,"0")}`}function O(e,t){return e.reduce((r,n)=>{if(n.strArtist!==t)return r;const s=n.strAlbum||"Unknown Album";return r[s]||(r[s]=[]),r[s].push(n),r},{})}const M="/artistsHUB-team-project/assets/icons-Du7oJ6Ni.svg";function P(e,t){const r=a.albums.container;if(!r)return;const n=O(e,t);r.innerHTML="";const s=document.createElement("ul");s.classList.add("modal__albums-list");for(const[o,i]of Object.entries(n)){const c=document.createElement("li");c.className="modal__album-item";const l=document.createElement("h4");l.className="modal__album-title",l.textContent=o,c.appendChild(l);const m=document.createElement("div");m.className="modal__tracks-wrapper";const g=document.createElement("ul");g.className="modal__tracks-header",g.innerHTML=`
      <li class="modal__track-name-col">track</li>
      <li class="modal__track-time-col">time</li>
      <li class="modal__track-link-col">link</li>
    `,m.appendChild(g),i.forEach(d=>{const h=document.createElement("ul");h.className="modal__track-item";const b=document.createElement("li");b.className="modal__track-name",b.textContent=d.strTrack||"";const _=document.createElement("li");_.className="modal__track-time",_.textContent=d.intDuration?j(d.intDuration):"";const L=document.createElement("li");if(L.className="modal__track-link",d.movie){const u=document.createElement("a");u.href=d.movie,u.target="_blank",u.rel="noopener noreferrer",u.innerHTML=`
        <svg width="16" height="16">
          <use href="${M}#icon-youtube"></use>
        </svg>`,L.appendChild(u)}h.append(b,_,L),m.appendChild(h)}),c.appendChild(m),s.appendChild(c)}r.appendChild(s)}function B(e){const{name:t,thumb:r,years:n,gender:s,members:o,country:i,bio:c}=a.artist;t.textContent=e.strArtist??"No name",r.src=e.strArtistThumb||"https://via.placeholder.com/200x200?text=No+Image",r.alt=`Artist photo ${e.strArtist??""}`,c.textContent=e.strBiographyEN??"No description",n.textContent=e.intFormedYear?`${e.intFormedYear} - ${e.intDiedYear||"present"}`:"No data",s.textContent=e.strGender||"No data",o.textContent=e.intMembers||"No data",i.textContent=e.strCountry||"No data"}function I(e,t){if(!(e instanceof HTMLElement)){console.error("container not DOM-element:",e);return}if(e.innerHTML="",t&&t.length>0)t.forEach(r=>{const n=document.createElement("span");n.classList.add("modal__genres-item"),n.textContent=r,e.appendChild(n)});else{const r=document.createElement("span");r.classList.add("modal__genres-item"),r.textContent="Genres not available",e.appendChild(r)}}function F(){if(!a.artistDataLoader||!a.artistCardSection){console.error("DOM references for loader are not found!");return}document.querySelector("#globalLoader").classList.remove("global-loader--hidden"),a.artistDataLoader.classList.remove("artist-loader--hidden"),a.artistDataLoader.classList.add("artist-loader--visible"),a.artistCardSection.classList.add("hidden")}function G(){if(!a.artistDataLoader||!a.artistCardSection){console.error("DOM references for loader are not found!");return}document.querySelector("#globalLoader").classList.add("global-loader--hidden"),a.artistDataLoader.classList.remove("artist-loader--visible"),a.artistDataLoader.classList.add("artist-loader--hidden"),a.artistCardSection.classList.remove("hidden")}const v={showArtistLoader:F,hideArtistLoader:G};async function R(e){try{v.showArtistLoader();const t=await H(e),r=t.genres||[];Y(),B(t),P(t.tracksList,t.strArtist),I(a.artist.genres,r),v.hideArtistLoader(),a.modal.classList.remove("modal--hidden"),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.addEventListener("keydown",C)}catch(t){console.error("Error to load artist data:",t.message,t),v.hideArtistLoader(),alert("Artist data not found"),p()}}function Y(){a.albums.container&&(a.albums.container.innerHTML=""),a.artist.genres&&(a.artist.genres.innerHTML="")}x();async function q(e=1){try{return(await w.get(`https://sound-wave.b.goit.study/api/artists?limit=8&page=${e}`)).data.artists}catch(t){console.log(t.message)}}const y=document.querySelector(".artists__list");let E=0;U();async function U(){const e=await q(),t=D(e);y.innerHTML=t,E=1}const f=document.querySelector(".artists__load-more-btn");f.addEventListener("click",z);async function z(){try{k(!0),f.style.display="none",E+=1;const e=await q(E);e.length===0&&(f.style.display="none");const t=D(e),r=y.children.length;y.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e)}finally{k(!1),f.style.display="flex"}}function K(e,t){if(typeof e!="string")return"";const r=window.innerWidth;return r<768?t=60:r<1440?t=160:t=144,e.length>t?e.slice(0,t)+"...":e}function Q(e){return e.replace(/[,/]/g," ")}function D(e){return e.map(({_id:t,genres:r,strArtist:n,strArtistThumb:s,strBiographyEN:o})=>`
      <li class="artists__card">

        <img class="artists__card-image" src="${s}" alt="${n}"/>

        <ul class="artists__card-genres">
        ${r.map(i=>`<li class="artists__card-genre">${Q(i)}</li>`).join("")}
        </ul>
        <p class="artists__card-name">${n}</p>
        <p class="artists__card-description">${K(o,144)}</p>
       <button class="artists__card-btn open-artist-modal" data-artist-id="${t}">
       Learn More
        <svg class="artists__card-btn-icon" width="24" height="24">
            <use href="${M}#icon-caret-right"></use>
          </svg>
       </button>
     </li>
      `).join("")||""}y.addEventListener("click",W);function W(e){const t=e.target.closest(".open-artist-modal");if(t){const r=t.dataset.artistId;r?R(r):console.error("Artist ID not found ðŸ˜±.")}}const S=document.querySelector(".loader");function k(e){e?S.style.display="inline-block":S.style.display="none"}const J=document.getElementById("feedback-container");async function V(){try{const t=await(await fetch("https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1")).json();if(!t.data){console.error('ÐŸÐ¾Ð»Ðµ "data" Ð²Ñ–Ð´ÑÑƒÑ‚Ð½Ñ” Ð² Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ–!');return}const r=t.data;X(r),Z()}catch(e){console.error("4. ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð´Ð¾ Ð²Ð¸ÐºÐ»Ð¸ÐºÑƒ Ñ€ÐµÐ½Ð´ÐµÑ€Ñƒ:",e.message)}}function X(e){const t=e.map(({rating:r,descr:n,name:s})=>{const o=Math.round(r);return`
      <div class="swiper-slide">
        <div class="stars-container">${Array.from({length:5},(c,l)=>`<span class="star ${l<o?"filled":"star-empty"}">â˜…</span>`).join("")}</div>
        <p class="feedback-text">"${n}"</p>
        <p class="user-name">${s}</p>
      </div>
    `}).join("");J.innerHTML=t}function Z(){new N(".feedback-slider",{modules:[$,T],slidesPerView:1,spaceBetween:20,grabCursor:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return e<3?`<span class="${t} custom-bullet-${e}"></span>`:""}},on:{slideChange:function(){var r,n,s;const e=this.realIndex,t=document.querySelectorAll(".swiper-pagination-bullet");t.forEach(o=>o.classList.remove("swiper-pagination-bullet-active")),e===0?(r=t[0])==null||r.classList.add("swiper-pagination-bullet-active"):e===9?(n=t[2])==null||n.classList.add("swiper-pagination-bullet-active"):(s=t[1])==null||s.classList.add("swiper-pagination-bullet-active")}}})}V();window.$=A;window.jQuery=A;
//# sourceMappingURL=index.js.map
