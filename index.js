import{a as q,S as I,N as H,P,g as c,b as v,j as T}from"./assets/vendor-03jR-5mc.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".mob-menu-btn"),t=document.querySelector(".menu-close-btn"),r=document.querySelector("#mobileMenu"),o=document.body;e==null||e.addEventListener("click",()=>{r.classList.add("is-open"),o.classList.add("menu-open")}),t==null||t.addEventListener("click",n),r==null||r.addEventListener("click",s=>{s.target===r&&n()}),document.addEventListener("keydown",s=>{s.key==="Escape"&&r.classList.contains("is-open")&&n()}),document.querySelectorAll(".mobile-link").forEach(s=>{s.addEventListener("click",n)});function n(){r.classList.remove("is-open"),o.classList.remove("menu-open")}window.addEventListener("scroll",()=>{window.scrollY>50?document.querySelector(".header").classList.add("scrolled"):document.querySelector(".header").classList.remove("scrolled")})});const a={modal:document.querySelector(".modal"),artistDataLoader:document.getElementById("artistDataLoader"),artistDataSpinner:document.querySelector("#artistDataLoader .artist-loader__spinner"),artist:{name:document.querySelector(".modal__artist-name"),thumb:document.querySelector(".modal__artist-thumb"),years:document.querySelector(".modal__artist-years"),gender:document.querySelector(".modal__artist-gender"),members:document.querySelector(".modal__artist-members"),country:document.querySelector(".modal__artist-country"),bio:document.querySelector(".modal__artist-bio"),genres:document.querySelector(".modal__artist-genres")},albums:{container:document.querySelector(".modal__albums-container")},artistCardSection:document.querySelector(".modal__artist")};function w(){a.modal.classList.add("modal--hidden"),document.body.classList.remove("no-scroll"),document.body.style.overflow="",document.documentElement.style.overflow="",document.removeEventListener("keydown",N)}function F(){const e=document.querySelector(".modal__close-btn"),t=document.querySelector(".modal");e&&e.addEventListener("click",w),t&&t.addEventListener("click",r=>{r.target===t&&w()})}function N(e){e.key==="Escape"&&!a.modal.classList.contains("modal--hidden")&&w()}async function R(e){if(!e)throw new Error("Artist ID is required");const[t,r]=await Promise.all([q.get(`https://sound-wave.b.goit.study/api/artists/${e}`),q.get("https://sound-wave.b.goit.study/api/artists")]),o=t.data,n=r.data.artists||[];if(!(o!=null&&o.strArtist))throw new Error("No artist data");const s=n.find(i=>i._id===e);return s?s.genres&&(o.genres=s.genres):console.warn("Artist not found ‚ùóÔ∏è:",e),o}function G(e){const t=Math.floor(e/1e3),r=Math.floor(t/60),o=t%60;return`${r}:${o.toString().padStart(2,"0")}`}function Y(e,t){return e.reduce((r,o)=>{if(o.strArtist!==t)return r;const n=o.strAlbum||"Unknown Album";return r[n]||(r[n]=[]),r[n].push(o),r},{})}const D="/artistsHUB-team-project/assets/icons-Du7oJ6Ni.svg";function U(e,t){const r=a.albums.container;if(!r)return;const o=Y(e,t);r.innerHTML="";const n=document.createElement("ul");n.classList.add("modal__albums-list");for(const[s,i]of Object.entries(o)){const d=document.createElement("li");d.className="modal__album-item";const f=document.createElement("h4");f.className="modal__album-title",f.textContent=s,d.appendChild(f);const p=document.createElement("div");p.className="modal__tracks-wrapper";const y=document.createElement("ul");y.className="modal__tracks-header",y.innerHTML=`
      <li class="modal__track-name-col">track</li>
      <li class="modal__track-time-col">time</li>
      <li class="modal__track-link-col">link</li>
    `,p.appendChild(y),i.forEach(u=>{const m=document.createElement("ul");m.className="modal__track-item";const l=document.createElement("li");l.className="modal__track-name",l.textContent=u.strTrack||"";const g=document.createElement("li");g.className="modal__track-time",g.textContent=u.intDuration?G(u.intDuration):"";const E=document.createElement("li");if(E.className="modal__track-link",u.movie){const h=document.createElement("a");h.href=u.movie,h.target="_blank",h.rel="noopener noreferrer",h.innerHTML=`
        <svg width="16" height="16">
          <use href="${D}#icon-youtube"></use>
        </svg>`,E.appendChild(h)}m.append(l,g,E),p.appendChild(m)}),d.appendChild(p),n.appendChild(d)}r.appendChild(n)}function W(e){const{name:t,thumb:r,years:o,gender:n,members:s,country:i,bio:d}=a.artist;t.textContent=e.strArtist??"No name",r.src=e.strArtistThumb||"https://placehold.co/200x200?text=No+Image",r.alt=`Artist photo ${e.strArtist??""}`,d.textContent=e.strBiographyEN??"No description",o.textContent=e.intFormedYear?`${e.intFormedYear} - ${e.intDiedYear||"present"}`:"No data",n.textContent=e.strGender||"No data",s.textContent=e.intMembers||"No data",i.textContent=e.strCountry||"No data"}function z(e,t){if(!(e instanceof HTMLElement)){console.error("container not DOM-element:",e);return}if(e.innerHTML="",t&&t.length>0)t.forEach(r=>{const o=document.createElement("span");o.classList.add("modal__genres-item"),o.textContent=r,e.appendChild(o)});else{const r=document.createElement("span");r.classList.add("modal__genres-item"),r.textContent="Genres not available",e.appendChild(r)}}function J(){if(!a.artistDataLoader||!a.artistCardSection){console.error("DOM references for loader are not found!");return}document.querySelector("#globalLoader").classList.remove("global-loader--hidden"),a.artistDataLoader.classList.remove("artist-loader--hidden"),a.artistDataLoader.classList.add("artist-loader--visible"),a.artistCardSection.classList.add("hidden")}function K(){if(!a.artistDataLoader||!a.artistCardSection){console.error("DOM references for loader are not found!");return}document.querySelector("#globalLoader").classList.add("global-loader--hidden"),a.artistDataLoader.classList.remove("artist-loader--visible"),a.artistDataLoader.classList.add("artist-loader--hidden"),a.artistCardSection.classList.remove("hidden")}const S={showArtistLoader:J,hideArtistLoader:K};async function Q(e){try{S.showArtistLoader();const t=await R(e),r=t.genres||[];V(),W(t),U(t.tracksList,t.strArtist),z(a.artist.genres,r),S.hideArtistLoader(),a.modal.classList.remove("modal--hidden"),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.addEventListener("keydown",N)}catch(t){console.error("Error to load artist data:",t.message,t),S.hideArtistLoader(),alert("Artist data not found"),w()}}function V(){a.albums.container&&(a.albums.container.innerHTML=""),a.artist.genres&&(a.artist.genres.innerHTML="")}F();async function $(e=1){try{return(await q.get(`https://sound-wave.b.goit.study/api/artists?limit=8&page=${e}`)).data.artists}catch(t){console.log(t.message)}}const k=document.querySelector(".artists__list");let C=0;X();async function X(){const e=await $(),t=j(e);k.innerHTML=t,C=1}const L=document.querySelector(".artists__load-more-btn");L.addEventListener("click",Z);async function Z(){try{x(!0),L.style.display="none",C+=1;const e=await $(C);e.length===0&&(L.style.display="none");const t=j(e),r=k.children.length;k.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e)}finally{x(!1),L.style.display="flex"}}function ee(e,t){if(typeof e!="string")return"";const r=window.innerWidth;return r<768?t=60:r<1440?t=160:t=144,e.length>t?e.slice(0,t)+"...":e}function te(e){return e.replace(/[,/]/g," ")}function j(e){return e.map(({_id:t,genres:r,strArtist:o,strArtistThumb:n,strBiographyEN:s})=>`
      <li class="artists__card">

        <img class="artists__card-image" src="${n}" alt="${o}"/>

        <ul class="artists__card-genres">
        ${r.map(i=>`<li class="artists__card-genre">${te(i)}</li>`).join("")}
        </ul>
        <p class="artists__card-name">${o}</p>
        <p class="artists__card-description">${ee(s,144)}</p>
       <button class="artists__card-btn open-artist-modal" data-artist-id="${t}">
       Learn More
        <svg class="artists__card-btn-icon" width="24" height="24">
            <use href="${D}#icon-caret-right"></use>
          </svg>
       </button>
     </li>
      `).join("")||""}k.addEventListener("click",re);function re(e){const t=e.target.closest(".open-artist-modal");if(t){const r=t.dataset.artistId;r?Q(r):console.error("Artist ID not found üò±.")}}const M=document.querySelector(".loader");function x(e){e?M.style.display="inline-block":M.style.display="none"}const oe=document.getElementById("feedback-container");async function ne(){try{const t=await(await fetch("https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1")).json();if(!t.data){console.error('–ü–æ–ª–µ "data" –≤—ñ–¥—Å—É—Ç–Ω—î –≤ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ!');return}const r=t.data;se(r),ae()}catch(e){console.error("4. –ü–æ–º–∏–ª–∫–∞ –¥–æ –≤–∏–∫–ª–∏–∫—É —Ä–µ–Ω–¥–µ—Ä—É:",e.message)}}function se(e){const t=e.map(({rating:r,descr:o,name:n})=>{const s=Math.round(r);return`
      <div class="swiper-slide">
        <div class="stars-container">${Array.from({length:5},(d,f)=>`<span class="star ${f<s?"filled":"star-empty"}">‚òÖ</span>`).join("")}</div>
        <p class="feedback-text">"${o}"</p>
        <p class="feedback-user-name">${n}</p>
      </div>
    `}).join("");oe.innerHTML=t}function ae(){new I(".feedback-slider",{modules:[H,P],slidesPerView:1,spaceBetween:0,grabCursor:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return e<3?`<span class="${t} custom-bullet-${e}"></span>`:""}},on:{slideChange:function(){var r,o,n;const e=this.realIndex,t=document.querySelectorAll(".swiper-pagination-bullet");t.forEach(s=>s.classList.remove("swiper-pagination-bullet-active")),e===0?(r=t[0])==null||r.classList.add("swiper-pagination-bullet-active"):e===9?(o=t[2])==null||o.classList.add("swiper-pagination-bullet-active"):(n=t[1])==null||n.classList.add("swiper-pagination-bullet-active")}}})}ne();c.registerPlugin(v);const ie=()=>window.matchMedia("(min-width: 768px)").matches;if(ie()){c.set(".hero-title",{opacity:0,y:-50,scale:.9}),c.set(".hero-subtitle",{opacity:0,y:30}),c.set(".hero-btn",{opacity:0,scale:.8,y:20}),c.set(".hero-img",{opacity:0,x:50,scale:.95}),c.timeline({defaults:{ease:"power3.out"}}).to(".hero-title",{opacity:1,y:0,scale:1,duration:1.2,ease:"elastic.out(1, 0.6)"}).to(".hero-subtitle",{opacity:1,y:0,duration:.8},"-=0.6").to(".hero-btn",{opacity:1,scale:1,y:0,duration:.6,ease:"back.out(1.7)"},"-=0.4").to(".hero-img",{opacity:1,x:0,scale:1,duration:1,ease:"power3.out"},"-=0.8");const t=document.querySelector(".hero-btn");t&&(t.addEventListener("mouseenter",()=>{c.to(".hero-btn",{scale:1.05,duration:.3,ease:"power2.out"}),c.to(".hero-btn-icon",{x:5,duration:.3,ease:"power2.out"})}),t.addEventListener("mouseleave",()=>{c.to(".hero-btn",{scale:1,duration:.3,ease:"power2.out"}),c.to(".hero-btn-icon",{x:0,duration:.3,ease:"power2.out"})})),c.timeline({scrollTrigger:{trigger:".artists",start:"top 80%",toggleActions:"play none none reverse"}}).from(".artists__title",{opacity:0,y:-30,duration:.8,ease:"power3.out"}).from(".artists__subtitle",{opacity:0,y:20,duration:.8,ease:"power3.out"},"-=0.5"),v.create({trigger:".artists__list",start:"top 85%",once:!0,onEnter:()=>{const o=document.querySelectorAll(".artists__list li");o.length>0&&c.from(o,{opacity:0,y:50,scale:.9,stagger:.1,duration:.6,ease:"back.out(1.2)"})}}),c.from(".artists__load-more-btn",{scrollTrigger:{trigger:".artists__load-more-btn",start:"top 90%",toggleActions:"play none none reverse"},opacity:0,y:20,duration:.6,ease:"power3.out"}),v.create({trigger:".about-us",start:"top 75%",once:!0,onEnter:()=>{c.timeline().from(".about-us-image",{opacity:0,x:-50,scale:.95,duration:1,ease:"power3.out"}).from(".about-us-logo-icon",{opacity:0,scale:0,rotation:-180,duration:.8,ease:"back.out(1.7)"},"-=0.5").from(".about-us-title",{opacity:0,y:30,duration:.8,ease:"power3.out"},"-=0.5").from(".about-us-text",{opacity:0,y:20,duration:.8,ease:"power3.out"},"-=0.6")}}),v.create({trigger:".feedback",start:"top bottom",once:!0,onEnter:()=>{c.timeline().from(".feedback-slider",{opacity:0,y:50,scale:.95,duration:1,ease:"power3.out"}).from(".swiper-button-prev",{opacity:0,x:-20,duration:.6,ease:"power3.out"},"-=0.5").from(".swiper-button-next",{opacity:0,x:20,duration:.6,ease:"power3.out"},"-=0.6").from(".feedback-btn",{opacity:0,y:20,scale:.9,duration:.6,ease:"back.out(1.7)"},"-=0.4")}}),v.create({trigger:".feedback",start:"top 75%",once:!0,onEnter:()=>{const o=document.querySelectorAll("#feedback-container .swiper-slide");o.length>0&&c.from(o,{opacity:0,scale:.9,stagger:.1,duration:.6,delay:.5,ease:"power3.out"})}})}function ce(){document.body.classList.add("body-no-scroll")}function le(){document.body.classList.remove("body-no-scroll")}function A(e,t){e.classList.add("feedback-error");let r=e.parentElement.querySelector(".feedback-error-text");r||(r=document.createElement("div"),r.className="feedback-error-text",e.parentElement.appendChild(r)),r.textContent=t}function B(e){e.classList.remove("feedback-error");const t=e.parentElement.querySelector(".feedback-error-text");t&&t.remove()}function O(){document.querySelectorAll(".feedback-error").forEach(t=>{B(t)});const e=document.querySelector(".server-error-message");e&&e.remove()}const b=document.querySelector(".js-feedback-backdrop");function de(){b.removeAttribute("hidden"),ce(),O()}function _(){b.setAttribute("hidden",""),le()}function ue(){const e=document.querySelector(".js-feedback-close");!b||!e||(e.addEventListener("click",_),b.addEventListener("click",t=>{t.target===b&&_()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&!b.hasAttribute("hidden")&&_()}))}function me(){const e=document.querySelector(".feedback-btn");e&&e.addEventListener("click",t=>{t.preventDefault(),de()})}function fe(){const e=document.querySelector(".rating");if(!e)return;const t=e.querySelectorAll(".rating-star"),r=document.getElementById("rating-input");t.forEach(o=>{o.addEventListener("click",n=>{n.preventDefault();const s=Number(o.dataset.value);r.value=s,t.forEach(i=>{i.classList.toggle("active",Number(i.dataset.value)<=s)}),B(e)})})}function pe(){const e=document.querySelector(".js-feedback-form");if(!e)return;const t=e.querySelector('[name="name"]'),r=e.querySelector('[name="message"]'),o=document.getElementById("rating-input"),n=e.querySelector(".rating"),s=e.querySelector(".feedback-submit-btn"),i=e.querySelector(".js-submit-text"),d=e.querySelector(".js-submit-loader");e.addEventListener("submit",async f=>{f.preventDefault(),O();const p=t.value.trim(),y=r.value.trim(),u=Number(o.value);let m=!0;if(p||(A(t,"–Ü–º º—è –æ–±–æ–≤ º—è–∑–∫–æ–≤–µ"),m=!1),(!y||y.length<10)&&(A(r,"–ú—ñ–Ω—ñ–º—É–º 10 —Å–∏–º–≤–æ–ª—ñ–≤"),m=!1),(u<1||u>5)&&(A(n,"–û–±–µ—Ä—ñ—Ç—å —Ä–µ–π—Ç–∏–Ω–≥"),m=!1),!!m){s.disabled=!0,i.hidden=!0,d.hidden=!1;try{if(!(await fetch("https://sound-wave.b.goit.study/api/feedbacks",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:p,rating:u,descr:y})})).ok)throw new Error("Server error");e.reset(),o.value="0",document.querySelectorAll(".rating-star").forEach(g=>g.classList.remove("active")),_(),alert("–î—è–∫—É—î–º–æ –∑–∞ –≤—ñ–¥–≥—É–∫!")}catch{const l=document.createElement("div");l.className="server-error-message",l.textContent="–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏",l.style.color="#dc2626",l.style.textAlign="center",l.style.marginTop="16px",e.appendChild(l),setTimeout(()=>l.remove(),5e3)}finally{s.disabled=!1,i.hidden=!1,d.hidden=!0}}})}document.addEventListener("DOMContentLoaded",()=>{ue(),me(),fe(),pe()});window.$=T;window.jQuery=T;
//# sourceMappingURL=index.js.map
